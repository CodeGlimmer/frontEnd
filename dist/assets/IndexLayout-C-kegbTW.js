import{i as f,_ as de,j as L,u as re,k as ue,c as v,w as n,n as R,l as h,r as a,m as pe,o as m,d as t,b as B,p as C,g as u,q as S,h as W,K as me,v as E,e as ve}from"./index-BOH9GfG6.js";import{u as ce}from"./theme-HQ1WYIhm.js";import{a as fe,b as ye}from"./useSocket-CGAbKkod.js";import"./RosLib-C7gnwWt6.js";function _e({changeTheme:A,theme:g,animationDuration:k=400,themeChangeDelay:x=200,overlayOpacity:D=.6}){const i=f(null),d=f(null);return{themeOverlay:i,themeToggleBtn:d,handleThemeChange:_=>{const y=_.clientX,c=_.clientY,w=window.innerWidth,b=window.innerHeight,$=Math.max(Math.hypot(y,c),Math.hypot(y-w,c),Math.hypot(y,c-b),Math.hypot(y-w,c-b)),V=(g.value==="light"?"dark":"light")==="dark"?"#121212":"#ffffff";if(i.value){const p=i.value;p.style.backgroundColor=V,p.style.left=`${y}px`,p.style.top=`${c}px`,p.style.transform="scale(0)",p.style.opacity=D,p.style.display="block",p.offsetWidth,p.style.transform=`scale(${$/10})`,setTimeout(()=>{A()},x),setTimeout(()=>{p.style.display="none"},k)}else A()}}}const ge={class:"d-none d-sm-flex"},ke={key:1,class:"d-flex justify-center mb-4"},we={class:"scrollable-content"},be={__name:"IndexLayout",setup(A){const g=ce(),{theme:k}=L(g),{changeTheme:x}=g,{isDarkMode:D}=L(g),i=f(!0),d=f(!1),T=pe(),_=f(!1),y=f(!1),c=re(),w=f("https://randomuser.me/api/portraits/men/9.jpg"),b=f(""),$=f("");i.value=!c.smAndDown.value;const{themeOverlay:O,themeToggleBtn:V,handleThemeChange:p}=_e({changeTheme:x,theme:k}),z=()=>{T.push("/"),_.value=!1,i.value=!1},Y=()=>{T.push("/index/setting")},q=o=>{c.mdAndUp.value&&d.value&&!o.target.closest(".v-list-item")&&!o.target.closest(".v-btn")&&(d.value=!1)},P=o=>{o.target.closest(".v-btn")||c.mdAndUp.value&&d.value&&(d.value=!1)};return ue(()=>{const o=localStorage.getItem("username");fe.post(`${ye}find/`,{username:o}).then(({data:e})=>{e.image&&(w.value=`data:image/jpeg;base64,${e.image}`),b.value=e.username,$.value=e.email})}),(o,e)=>{const r=a("v-btn"),Q=a("v-spacer"),s=a("v-list-item"),U=a("v-list"),I=a("v-menu"),X=a("v-app-bar"),M=a("v-divider"),N=a("v-icon"),j=a("v-list-subheader"),F=a("v-list-group"),G=a("router-view"),J=a("v-card-title"),Z=a("v-card-subtitle"),H=a("v-col"),ee=a("v-row"),te=a("v-container"),ne=a("v-card-actions"),K=a("v-card"),oe=a("v-navigation-drawer"),le=a("v-scroll-x-transition"),ae=a("v-main"),ie=a("v-layout"),se=a("v-app");return m(),v(se,{theme:h(k),class:R({dark:h(D)})},{default:n(()=>[t(ie,{class:"layout-wrapper"},{default:n(()=>[t(X,{class:"elevation-12",app:"",fixed:""},{default:n(()=>[t(r,{icon:"mdi-apps",onClick:e[0]||(e[0]=l=>i.value=!i.value)}),t(Q),B("div",ge,[t(r,{"prepend-icon":"mdi-view-dashboard-outline",variant:"outlined",class:"me-2",to:"/index/"},{default:n(()=>e[12]||(e[12]=[u("DashBoard")])),_:1}),t(r,{"prepend-icon":"mdi-database-outline",variant:"outlined",class:"me-2",to:"/index/ordermanagement"},{default:n(()=>e[13]||(e[13]=[u("订单管理")])),_:1}),t(r,{"prepend-icon":"mdi-eye-outline",variant:"outlined",class:"me-2",to:"/index/agvmonitoring"},{default:n(()=>e[14]||(e[14]=[u("AGV监控")])),_:1}),t(r,{"prepend-icon":"mdi-invoice-text-clock-outline",variant:"outlined",class:"me-2",to:"/index/schedulingplanning"},{default:n(()=>e[15]||(e[15]=[u("调度规划")])),_:1})]),o.$vuetify.display.smAndDown?(m(),v(I,{key:0,modelValue:y.value,"onUpdate:modelValue":e[1]||(e[1]=l=>y.value=l)},{activator:n(({props:l})=>[t(r,S(l,{icon:"mdi-dots-vertical",class:"me-2"}),null,16)]),default:n(()=>[t(U,null,{default:n(()=>[t(s,{"prepend-icon":"mdi-view-dashboard-outline",title:"DashBoard",to:"/index/"}),t(s,{"prepend-icon":"mdi-database-outline",title:"订单管理",to:"/index/ordermanagement"}),t(s,{"prepend-icon":"mdi-eye-outline",title:"AGV监控",to:"/index/agvmonitoring"}),t(s,{"prepend-icon":"mdi-invoice-text-clock-outline",title:"调度规划",to:"/index/schedulingplanning"})]),_:1})]),_:1},8,["modelValue"])):C("",!0),t(r,{"prepend-icon":h(k)==="light"?"mdi-weather-sunny":"mdi-weather-night",text:o.$vuetify.display.smAndUp?"Toggle Theme":"",slim:"",onClick:h(p),ref_key:"themeToggleBtn",ref:V},null,8,["prepend-icon","text","onClick"])]),_:1}),t(oe,{modelValue:i.value,"onUpdate:modelValue":e[11]||(e[11]=l=>i.value=l),rail:d.value&&o.$vuetify.display.mdAndUp,temporary:o.$vuetify.display.smAndDown,permanent:o.$vuetify.display.mdAndUp,class:R(["elevation-12",{"fixed-drawer":o.$vuetify.display.mdAndUp}]),rounded:"lg",border:"",app:"",onClick:q},{append:n(()=>[!d.value&&o.$vuetify.display.mdAndUp||o.$vuetify.display.smAndDown?(m(),v(K,{key:0,class:"text-primary elevation-4 mx-2 mb-2 tw:!shadow-m-elevation-6",density:"comfortable"},{default:n(()=>[t(J,null,{default:n(()=>e[20]||(e[20]=[u("General options")])),_:1}),t(Z,null,{default:n(()=>e[21]||(e[21]=[u("You can set it up, or opt out")])),_:1}),t(ne,null,{default:n(()=>[t(te,null,{default:n(()=>[t(ee,null,{default:n(()=>[t(H,{cols:"6"},{default:n(()=>[t(r,{"prepend-icon":"mdi-cog",size:"small",block:o.$vuetify.display.xs,to:"/index/setting"},{default:n(()=>e[22]||(e[22]=[u("setting")])),_:1},8,["block"])]),_:1}),t(H,{cols:"6"},{default:n(()=>[t(r,{"prepend-icon":"mdi-logout",color:"error",size:"small",block:o.$vuetify.display.xs,onClick:z},{default:n(()=>e[23]||(e[23]=[u("sign out")])),_:1},8,["block"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})):d.value&&o.$vuetify.display.mdAndUp?(m(),ve("div",ke,[t(I,{modelValue:_.value,"onUpdate:modelValue":e[10]||(e[10]=l=>_.value=l),"close-on-content-click":!1,location:"end",offset:"8"},{activator:n(({props:l})=>[t(r,S(l,{icon:"mdi-dots-horizontal-circle",color:"primary",size:"large",class:"mb-2"}),null,16)]),default:n(()=>[t(K,{"min-width":"200",class:"options-menu"},{default:n(()=>[t(U,null,{default:n(()=>[t(s,{"prepend-icon":"mdi-cog",title:"Settings",onClick:Y}),t(M),t(s,{"prepend-icon":"mdi-logout",title:"Sign out",color:"error",onClick:z})]),_:1})]),_:1})]),_:1},8,["modelValue"])])):C("",!0)]),default:n(()=>[t(s,{"prepend-avatar":w.value,title:b.value,subtitle:$.value,class:"mt-2",onClick:P},{append:n(()=>[o.$vuetify.display.mdAndUp?(m(),v(r,{key:0,variant:"text",icon:"mdi-chevron-left",onClick:e[2]||(e[2]=W(l=>d.value=!d.value,["stop"]))})):(m(),v(r,{key:1,variant:"text",icon:"mdi-close",onClick:e[3]||(e[3]=W(l=>i.value=!1,["stop"]))}))]),_:1},8,["prepend-avatar","title","subtitle"]),t(M,{class:"my-2"}),!d.value||o.$vuetify.display.smAndDown?(m(),v(j,{key:0},{default:n(()=>[t(N,null,{default:n(()=>e[16]||(e[16]=[u("mdi-rocket-launch-outline")])),_:1}),e[17]||(e[17]=u(" QUICK ACCESS"))]),_:1})):C("",!0),t(U,{nav:"",density:"compact"},{default:n(()=>[t(s,{"prepend-icon":"mdi-view-dashboard-outline",title:"订单概览",value:"orderOperation",to:"/index/ordermanagement",onClick:e[4]||(e[4]=l=>o.$vuetify.display.smAndDown&&(i.value=!1))}),t(s,{"prepend-icon":"mdi-webcam",title:"AGV实时监控",value:"tasks",to:"/index/agvmonitoring",onClick:e[5]||(e[5]=l=>o.$vuetify.display.smAndDown&&(i.value=!1))}),t(s,{"prepend-icon":"mdi-chart-areaspline",title:"订单预测",value:"path",to:"/index/schedulingplanning",onClick:e[6]||(e[6]=l=>o.$vuetify.display.smAndDown&&(i.value=!1))}),t(F,{value:"shortcuts"},{activator:n(({props:l})=>[t(s,S(l,{"prepend-icon":"mdi-dots-horizontal",title:"更多"}),null,16)]),default:n(()=>[t(s,{"prepend-icon":"mdi-store",title:"购物",value:"shop",to:"/index/shop",onClick:e[7]||(e[7]=l=>o.$vuetify.display.smAndDown&&(i.value=!1))}),t(s,{"prepend-icon":"mdi-note-text-outline",title:"便签",value:"notes",to:"/index/memo",onClick:e[8]||(e[8]=l=>o.$vuetify.display.smAndDown&&(i.value=!1))}),t(s,{"prepend-icon":"mdi-calendar-clock",title:"日程",value:"calendar",to:"/index",onClick:e[9]||(e[9]=l=>o.$vuetify.display.smAndDown&&(i.value=!1))})]),_:1})]),_:1}),t(M,{class:"my-2"}),!d.value||o.$vuetify.display.smAndDown?(m(),v(j,{key:1},{default:n(()=>[t(N,null,{default:n(()=>e[18]||(e[18]=[u("mdi-tools")])),_:1}),e[19]||(e[19]=u(" TOOLS"))]),_:1})):C("",!0),t(G,{name:"sidebar"},{default:n(({Component:l})=>[(m(),v(me,null,[(m(),v(E(l)))],1024))]),_:1})]),_:1},8,["modelValue","rail","temporary","permanent","class"]),t(ae,{class:"main-content"},{default:n(()=>[B("div",we,[t(G,{name:"main"},{default:n(({Component:l})=>[t(le,{duration:{enter:1e3,leave:500}},{default:n(()=>[(m(),v(E(l)))]),_:2},1024)]),_:1})])]),_:1}),B("div",{class:"theme-transition-overlay",ref_key:"themeOverlay",ref:O},null,512)]),_:1})]),_:1},8,["theme","class"])}}},xe=de(be,[["__scopeId","data-v-2def0564"]]);export{xe as default};
