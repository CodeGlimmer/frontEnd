import{W as mt,_ as gt}from"./WorkingStatus-CTOv4Y7w.js";import{g as R}from"./index-D3jsOSc0.js";import{_ as vt,i as q,k as yt,y as xt,e as P,A as V,b as _,d as O,w as K,r as rt,g as D,C as nt,o as H}from"./index-BOH9GfG6.js";import"./theme-HQ1WYIhm.js";import"./useSocket-CGAbKkod.js";import"./RosLib-C7gnwWt6.js";/*!
 * SplitText 3.13.0
 * https://gsap.com
 *
 * @license Copyright 2025, GreenSock. All rights reserved. Subject to the terms at https://gsap.com/standard-license.
 * @author: Jack Doyle
 */let Q,$,et,_t=()=>et||U.register(window.gsap),at=typeof Intl<"u"?new Intl.Segmenter:0,Z=e=>typeof e=="string"?Z(document.querySelectorAll(e)):"length"in e?Array.from(e):[e],lt=e=>Z(e).filter(i=>i instanceof HTMLElement),it=[],tt=function(){},bt=/\s+/g,dt=new RegExp("\\p{RI}\\p{RI}|\\p{Emoji}(\\p{EMod}|\\u{FE0F}\\u{20E3}?|[\\u{E0020}-\\u{E007E}]+\\u{E007F})?(\\u{200D}\\p{Emoji}(\\p{EMod}|\\u{FE0F}\\u{20E3}?|[\\u{E0020}-\\u{E007E}]+\\u{E007F})?)*|.","gu"),pt={left:0,top:0,width:0,height:0},ct=(e,i)=>{if(i){let r=new Set(e.join("").match(i)||it),s=e.length,a,p,o,d;if(r.size)for(;--s>-1;){p=e[s];for(o of r)if(o.startsWith(p)&&o.length>p.length){for(a=0,d=p;o.startsWith(d+=e[s+ ++a])&&d.length<o.length;);if(a&&d.length===o.length){e[s]=o,e.splice(s+1,a);break}}}}return e},ut=e=>window.getComputedStyle(e).display==="inline"&&(e.style.display="inline-block"),G=(e,i,r)=>i.insertBefore(typeof e=="string"?document.createTextNode(e):e,r),st=(e,i,r)=>{let s=i[e+"sClass"]||"",{tag:a="div",aria:p="auto",propIndex:o=!1}=i,d=e==="line"?"block":"inline-block",t=s.indexOf("++")>-1,g=w=>{let m=document.createElement(a),v=r.length+1;return s&&(m.className=s+(t?" "+s+v:"")),o&&m.style.setProperty("--"+e,v+""),p!=="none"&&m.setAttribute("aria-hidden","true"),a!=="span"&&(m.style.position="relative",m.style.display=d),m.textContent=w,r.push(m),m};return t&&(s=s.replace("++","")),g.collection=r,g},St=(e,i,r,s)=>{let a=st("line",r,s),p=window.getComputedStyle(e).textAlign||"left";return(o,d)=>{let t=a("");for(t.style.textAlign=p,e.insertBefore(t,i[o]);o<d;o++)t.appendChild(i[o]);t.normalize()}},ht=(e,i,r,s,a,p,o,d,t,g)=>{var w;let m=Array.from(e.childNodes),v=0,{wordDelimiter:N,reduceWhiteSpace:L=!0,prepareText:X}=i,Y=e.getBoundingClientRect(),j=Y,J=!L&&window.getComputedStyle(e).whiteSpace.substring(0,3)==="pre",E=0,b=r.collection,l,f,F,n,y,S,z,c,h,W,T,A,C,I,x,u,B,k;for(typeof N=="object"?(F=N.delimiter||N,f=N.replaceWith||""):f=N===""?"":N||" ",l=f!==" ";v<m.length;v++)if(n=m[v],n.nodeType===3){for(x=n.textContent||"",L?x=x.replace(bt," "):J&&(x=x.replace(/\n/g,f+`
`)),X&&(x=X(x,e)),n.textContent=x,y=f||F?x.split(F||f):x.match(d)||it,B=y[y.length-1],c=l?B.slice(-1)===" ":!B,B||y.pop(),j=Y,z=l?y[0].charAt(0)===" ":!y[0],z&&G(" ",e,n),y[0]||y.shift(),ct(y,t),p&&g||(n.textContent=""),h=1;h<=y.length;h++)if(u=y[h-1],!L&&J&&u.charAt(0)===`
`&&((w=n.previousSibling)==null||w.remove(),G(document.createElement("br"),e,n),u=u.slice(1)),!L&&u==="")G(f,e,n);else if(u===" ")e.insertBefore(document.createTextNode(" "),n);else{if(l&&u.charAt(0)===" "&&G(" ",e,n),E&&h===1&&!z&&b.indexOf(E.parentNode)>-1?(S=b[b.length-1],S.appendChild(document.createTextNode(s?"":u))):(S=r(s?"":u),G(S,e,n),E&&h===1&&!z&&S.insertBefore(E,S.firstChild)),s)for(T=at?ct([...at.segment(u)].map(M=>M.segment),t):u.match(d)||it,k=0;k<T.length;k++)S.appendChild(T[k]===" "?document.createTextNode(" "):s(T[k]));if(p&&g){if(x=n.textContent=x.substring(u.length+1,x.length),W=S.getBoundingClientRect(),W.top>j.top&&W.left<=j.left){for(A=e.cloneNode(),C=e.childNodes[0];C&&C!==S;)I=C,C=C.nextSibling,A.appendChild(I);e.parentNode.insertBefore(A,e),a&&ut(A)}j=W}(h<y.length||c)&&G(h>=y.length?" ":l&&u.slice(-1)===" "?" "+f:f,e,n)}e.removeChild(n),E=0}else n.nodeType===1&&(o&&o.indexOf(n)>-1?(b.indexOf(n.previousSibling)>-1&&b[b.length-1].appendChild(n),E=n):(ht(n,i,r,s,a,p,o,d,t,!0),E=0),a&&ut(n))};const ft=class wt{constructor(i,r){this.isSplit=!1,_t(),this.elements=lt(i),this.chars=[],this.words=[],this.lines=[],this.masks=[],this.vars=r,this._split=()=>this.isSplit&&this.split(this.vars);let s=[],a,p=()=>{let o=s.length,d;for(;o--;){d=s[o];let t=d.element.offsetWidth;if(t!==d.width){d.width=t,this._split();return}}};this._data={orig:s,obs:typeof ResizeObserver<"u"&&new ResizeObserver(()=>{clearTimeout(a),a=setTimeout(p,200)})},tt(this),this.split(r)}split(i){this.isSplit&&this.revert(),this.vars=i=i||this.vars||{};let{type:r="chars,words,lines",aria:s="auto",deepSlice:a=!0,smartWrap:p,onSplit:o,autoSplit:d=!1,specialChars:t,mask:g}=this.vars,w=r.indexOf("lines")>-1,m=r.indexOf("chars")>-1,v=r.indexOf("words")>-1,N=m&&!v&&!w,L=t&&("push"in t?new RegExp("(?:"+t.join("|")+")","gu"):t),X=L?new RegExp(L.source+"|"+dt.source,"gu"):dt,Y=!!i.ignore&&lt(i.ignore),{orig:j,animTime:J,obs:E}=this._data,b;return(m||v||w)&&(this.elements.forEach((l,f)=>{j[f]={element:l,html:l.innerHTML,ariaL:l.getAttribute("aria-label"),ariaH:l.getAttribute("aria-hidden")},s==="auto"?l.setAttribute("aria-label",(l.textContent||"").trim()):s==="hidden"&&l.setAttribute("aria-hidden","true");let F=[],n=[],y=[],S=m?st("char",i,F):null,z=st("word",i,n),c,h,W,T;if(ht(l,i,z,S,N,a&&(w||N),Y,X,L,!1),w){let A=Z(l.childNodes),C=St(l,A,i,y),I,x=[],u=0,B=A.map(M=>M.nodeType===1?M.getBoundingClientRect():pt),k=pt;for(c=0;c<A.length;c++)I=A[c],I.nodeType===1&&(I.nodeName==="BR"?(x.push(I),C(u,c+1),u=c+1,k=B[u]):(c&&B[c].top>k.top&&B[c].left<=k.left&&(C(u,c),u=c),k=B[c]));u<c&&C(u,c),x.forEach(M=>{var ot;return(ot=M.parentNode)==null?void 0:ot.removeChild(M)})}if(!v){for(c=0;c<n.length;c++)if(h=n[c],m||!h.nextSibling||h.nextSibling.nodeType!==3)if(p&&!w){for(W=document.createElement("span"),W.style.whiteSpace="nowrap";h.firstChild;)W.appendChild(h.firstChild);h.replaceWith(W)}else h.replaceWith(...h.childNodes);else T=h.nextSibling,T&&T.nodeType===3&&(T.textContent=(h.textContent||"")+(T.textContent||""),h.remove());n.length=0,l.normalize()}this.lines.push(...y),this.words.push(...n),this.chars.push(...F)}),g&&this[g]&&this.masks.push(...this[g].map(l=>{let f=l.cloneNode();return l.replaceWith(f),f.appendChild(l),l.className&&(f.className=l.className.replace(/(\b\w+\b)/g,"$1-mask")),f.style.overflow="clip",f}))),this.isSplit=!0,$&&(d?$.addEventListener("loadingdone",this._split):$.status==="loading"&&console.warn("SplitText called before fonts loaded")),(b=o&&o(this))&&b.totalTime&&(this._data.anim=J?b.totalTime(J):b),w&&d&&this.elements.forEach((l,f)=>{j[f].width=l.offsetWidth,E&&E.observe(l)}),this}revert(){var i,r;let{orig:s,anim:a,obs:p}=this._data;return p&&p.disconnect(),s.forEach(({element:o,html:d,ariaL:t,ariaH:g})=>{o.innerHTML=d,t?o.setAttribute("aria-label",t):o.removeAttribute("aria-label"),g?o.setAttribute("aria-hidden",g):o.removeAttribute("aria-hidden")}),this.chars.length=this.words.length=this.lines.length=s.length=this.masks.length=0,this.isSplit=!1,$?.removeEventListener("loadingdone",this._split),a&&(this._data.animTime=a.totalTime(),a.revert()),(r=(i=this.vars).onRevert)==null||r.call(i,this),this}static create(i,r){return new wt(i,r)}static register(i){Q=Q||i||window.gsap,Q&&(Z=Q.utils.toArray,tt=Q.core.context||tt),!et&&window.innerWidth>0&&($=document.fonts,et=!0)}};ft.version="3.13.0";let U=ft;const Et={class:"tw:w-full tw:h-full"},Tt={class:"header-title tw:flex tw:justify-center tw:shadow-m-elevation-8 tw:rounded-full tw:!mb-4 tw:!py-2 tw:bg-m-info tw:dark:bg-m-info-dark tw:!sticky tw:top-0",ref:"headerTitle"},Ct={class:"tw:w-full tw:h-full tw:grid tw:grid-cols-12 tw:gap-4 tw:dark:bg-m-grey-darken4"},kt={class:"instruction-panel tw:col-span-12 tw:md:col-span-4 tw:shadow-m-elevation-8 rounded-xl tw:p-4 tw:overflow-auto",initial:{opacity:0,x:100},enter:{opacity:1,x:0,transition:{duration:500,delay:200}}},Nt={class:"split-text"},Wt={class:"instruction-item"},At={class:"instruction-item"},Bt={class:"instruction-item"},Rt={class:"status-container tw:col-span-12 tw:md:col-span-4 tw:flex tw:justify-center tw:items-center rounded-xl tw:shadow-m-elevation-8 tw:overflow-auto",initial:{opacity:0,y:50},enter:{opacity:1,y:0,transition:{duration:500,delay:400}}},Lt={class:"operations-container tw:col-span-12 tw:md:col-span-4 tw:flex tw:justify-center tw:items-center tw:shadow-m-elevation-8 tw:rounded-xl tw:overflow-hidden",initial:{opacity:0,y:50},enter:{opacity:1,y:0,transition:{duration:500,delay:600}}},jt={class:"quick-command tw:col-span-12 tw:md:col-span-4 tw:shadow-m-elevation-8 tw:rounded-xl tw:p-4 tw:overflow-hidden",initial:{opacity:0,y:50},enter:{opacity:1,y:0,transition:{duration:500,delay:800}}},It={__name:"RosMap",setup(e){R.registerPlugin(U);const i=q(null),r=q(null),s=q(null),a=q(null),p=q(null),o=q(null);return yt(async()=>{if(await xt(),s.value){const t=new U(s.value,{type:"chars"});R.from(t.chars,{opacity:0,y:50,stagger:.05,duration:.8,ease:"back.out(1.7)"})}if(i.value&&i.value.querySelectorAll(".split-text").forEach(g=>{const w=new U(g,{type:"chars, words"});R.from(w.chars,{opacity:0,y:20,stagger:.02,duration:.5,ease:"power2.out",delay:.5})}),r.value){const t=new U(r.value,{type:"chars"});R.from(t.chars,{opacity:0,scale:0,stagger:.05,duration:.6,ease:"elastic.out(1, 0.3)",delay:1})}a.value&&R.from(a.value,{opacity:0,y:50,duration:.8,ease:"power3.out"}),document.querySelectorAll(".instruction-item").forEach(t=>{t.addEventListener("mouseenter",()=>{R.to(t,{x:8,duration:.3})}),t.addEventListener("mouseleave",()=>{R.to(t,{x:0,duration:.3})})}),[p.value,o.value].filter(Boolean).forEach(t=>{t&&(t.addEventListener("mouseenter",()=>{R.to(t,{y:-8,boxShadow:"0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)",duration:.3})}),t.addEventListener("mouseleave",()=>{R.to(t,{y:0,boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)",duration:.3})}))});try{console.log("ROS connection setup would go here")}catch(t){console.error("Failed to initialize ROS connection:",t)}}),(d,t)=>{const g=rt("v-icon"),w=rt("tt"),m=nt("ripple"),v=nt("motion");return H(),P("div",Et,[V((H(),P("div",Tt,[O(g,{class:"tw:mr-2 title-icon"},{default:K(()=>t[0]||(t[0]=[D("mdi-map")])),_:1}),_("div",{class:"title-text",ref_key:"titleText",ref:s},"AGV地图实时监控",512)])),[[m]]),_("div",Ct,[V(_("div",{class:"map-container tw:col-span-12 tw:md:col-span-8 tw:dark:bg-m-grey-darken4 tw:flex tw:justify-center tw:items-center tw:rounded-xl tw:shadow-m-elevation-8",initial:{opacity:0,y:100},enter:{opacity:1,y:0,transition:{duration:500}},ref_key:"mapContainer",ref:a},null,512),[[v]]),V((H(),P("div",kt,[_("div",{class:"tw:!prose tw:overflow-auto",ref_key:"splitTextContainer",ref:i},[t[7]||(t[7]=_("h1",{class:"split-text"},"Simple Map Example",-1)),_("p",Nt,[t[2]||(t[2]=D(" Run the following commands in the terminal then refresh this page. This will load a map from the ")),O(w,null,{default:K(()=>t[1]||(t[1]=[D("ros-groovy-rail-maps")])),_:1}),t[3]||(t[3]=D(" package. "))]),_("ol",null,[_("li",Wt,[O(w,null,{default:K(()=>t[4]||(t[4]=[D("roscore")])),_:1})]),_("li",At,[O(w,null,{default:K(()=>t[5]||(t[5]=[D("rosrun map_server map_server /opt/ros/groovy/share/rail_maps/maps/ilab.pgm 0.05")])),_:1})]),_("li",Bt,[O(w,null,{default:K(()=>t[6]||(t[6]=[D("roslaunch rosbridge_server rosbridge_websocket.launch")])),_:1})])])],512)])),[[v]]),V((H(),P("div",Rt,[_("div",{class:"status-wrapper tw:w-11/12",ref_key:"statusWrapper",ref:p},[O(mt)],512)])),[[v]]),V((H(),P("div",Lt,[_("div",{class:"operations-wrapper tw:w-11/12",ref_key:"operationsWrapper",ref:o},[O(gt)],512)])),[[v]]),V((H(),P("div",jt,[_("div",{class:"command-title split-title",ref_key:"commandTitle",ref:r},"快速指令",512)])),[[v]])])])}}},Pt=vt(It,[["__scopeId","data-v-016b06e1"]]);export{Pt as default};
