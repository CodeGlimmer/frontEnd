import{_ as ce,c as w,w as e,i as m,a as ve,k as fe,r as s,y as me,o as r,d as t,g as i,e as b,p as K,b as P,F as h,f as D,E as oe,q as A,t as C,D as ae,T as _e,h as ne}from"./index-BOH9GfG6.js";import{g as de}from"./index-D3jsOSc0.js";const ge={name:"MaterialNotes",setup(){const M=m(localStorage.getItem("darkMode")==="true"),l=m([]),S=m([]),o=m(1),le=m(null),q=m(""),u=m([]),I=m(["Personal","Work","Ideas","Important"]),p=m(""),T=m(!1),_=m({title:"",content:"",tags:[],color:"white",createdAt:null}),B=m(null),V=m(!1),f=m(null),c=m(-1),g=m({show:!1,text:"",color:"success",action:null,actionData:null}),E=m([{name:"Default",value:"white"},{name:"Red",value:"#ffcdd2"},{name:"Pink",value:"#f8bbd0"},{name:"Purple",value:"#e1bee7"},{name:"Deep Purple",value:"#d1c4e9"},{name:"Indigo",value:"#c5cae9"},{name:"Blue",value:"#bbdefb"},{name:"Light Blue",value:"#b3e5fc"},{name:"Cyan",value:"#b2ebf2"},{name:"Teal",value:"#b2dfdb"},{name:"Green",value:"#c8e6c9"},{name:"Light Green",value:"#dcedc8"},{name:"Lime",value:"#f0f4c3"},{name:"Yellow",value:"#fff9c4"},{name:"Amber",value:"#ffecb3"},{name:"Orange",value:"#ffe0b2"},{name:"Deep Orange",value:"#ffccbc"},{name:"Brown",value:"#d7ccc8"},{name:"Grey",value:"#f5f5f5"},{name:"Blue Grey",value:"#cfd8dc"}]),L=ve(()=>{let n=[...l.value];if(q.value){const d=q.value.toLowerCase();n=n.filter(v=>v.title.toLowerCase().includes(d)||v.content.toLowerCase().includes(d)||v.tags.some(x=>x.toLowerCase().includes(d)))}return u.value.length>0&&(n=n.filter(d=>u.value.some(v=>d.tags.includes(v)))),n.sort((d,v)=>v.createdAt-d.createdAt)}),F=()=>{const n=localStorage.getItem("notes"),d=localStorage.getItem("archivedNotes"),v=localStorage.getItem("tags"),x=localStorage.getItem("nextId");n&&(l.value=JSON.parse(n)),d&&(S.value=JSON.parse(d)),v&&(I.value=JSON.parse(v)),x&&(o.value=parseInt(x))},k=()=>{localStorage.setItem("notes",JSON.stringify(l.value)),localStorage.setItem("archivedNotes",JSON.stringify(S.value)),localStorage.setItem("tags",JSON.stringify(I.value)),localStorage.setItem("nextId",o.value.toString()),localStorage.setItem("darkMode",M.value.toString())},U=()=>{M.value=!M.value,k()},J=()=>{T.value=!0},Y=()=>{T.value=!0,me(()=>{const n=B.value.querySelector("input");n&&n.focus()})},Q=()=>{_.value={title:"",content:"",tags:[],color:"white",createdAt:null},T.value=!1},z=()=>{Q()},G=()=>{if(!_.value.title&&!_.value.content)return;const n={id:o.value++,title:_.value.title,content:_.value.content,tags:[..._.value.tags],color:_.value.color,createdAt:new Date().getTime()};l.value.unshift(n),k(),O("Note added successfully","success"),Q()},j=n=>{const d=_.value.tags.indexOf(n);d===-1?_.value.tags.push(n):_.value.tags.splice(d,1)},W=n=>{if(!f.value)return;const d=f.value.tags.indexOf(n);d===-1?f.value.tags.push(n):f.value.tags.splice(d,1)},R=()=>{if(!p.value||I.value.includes(p.value)){p.value="";return}I.value.push(p.value),_.value.tags.push(p.value),p.value="",k()},H=()=>{if(!p.value||!f.value||I.value.includes(p.value)){p.value="";return}I.value.push(p.value),f.value.tags.push(p.value),p.value="",k()},X=n=>{if(!f.value)return;const d=f.value.tags.indexOf(n);d!==-1&&f.value.tags.splice(d,1)},Z=n=>{const d=u.value.indexOf(n);d===-1?u.value.push(n):u.value.splice(d,1)},$=n=>{c.value=l.value.findIndex(d=>d.id===n.id),f.value=JSON.parse(JSON.stringify(n)),V.value=!0},ee=()=>{c.value>-1&&(l.value.splice(c.value,1,f.value),k(),O("Note updated successfully","success")),V.value=!1},a=n=>{const d=l.value.findIndex(x=>x.id===n);if(d===-1)return;const v=l.value[d];l.value.splice(d,1),S.value.push(v),k(),O("Note archived","info","archive",{noteId:n,note:v})},y=n=>{const d=S.value.findIndex(x=>x.id===n);if(d===-1)return;const v=S.value[d];S.value.splice(d,1),l.value.unshift(v),k(),O("Note restored","success")},N=n=>{const d=l.value.findIndex(x=>x.id===n);if(d===-1)return;const v=l.value[d];l.value.splice(d,1),k(),O("Note deleted","error","delete",{noteId:n,note:v,index:d})},te=n=>{l.value.splice(n.index,0,n.note),k(),O("Note restored","success")},O=(n,d,v=null,x=null)=>{g.value={show:!0,text:n,color:d,action:v,actionData:x}},ie=()=>{g.value.show=!1,g.value.action==="delete"?te(g.value.actionData):g.value.action==="archive"&&y(g.value.actionData.noteId)},se=n=>{n.style.opacity=0,n.style.transform="scale(0.8)"},re=(n,d)=>{de.to(n,{opacity:1,scale:1,duration:.3,delay:n.dataset.index*.05,ease:"power2.out",onComplete:d})},ue=(n,d)=>{de.to(n,{opacity:0,scale:.8,duration:.3,ease:"power2.in",onComplete:d})};return fe(()=>{F()}),{notes:l,archivedNotes:S,newNote:_,newNoteCard:B,isNewNoteExpanded:T,filteredNotes:L,tags:I,newTag:p,selectedTags:u,searchQuery:q,darkMode:M,noteColors:E,hoveredNote:le,editDialog:V,editedNote:f,editedIndex:c,snackbar:g,toggleDarkMode:U,handleNewNoteFocus:J,focusNewNote:Y,cancelNewNote:z,addNote:G,toggleTag:j,toggleEditedTag:W,addNewTag:R,addNewTagToEdited:H,removeTagFromEdited:X,toggleFilterTag:Z,editNote:$,updateNote:ee,archiveNote:a,deleteNote:N,showSnackbar:O,handleSnackbarAction:ie,beforeEnter:se,enter:re,leave:ue}}},pe={key:0},Ne={class:"d-flex flex-wrap"},ke={key:0,class:"text-center my-8"},ye={key:1,class:"d-flex align-center mb-4"},xe={class:"text-body-1",style:{"white-space":"pre-line"}},we={key:0,class:"mt-2"},be={class:"mt-4"},Ce={class:"d-flex flex-wrap"};function Te(M,l,S,o,le,q){const u=s("v-icon"),I=s("v-app-bar-title"),p=s("v-app-bar"),T=s("v-text-field"),_=s("v-card-title"),B=s("v-textarea"),V=s("v-card-text"),f=s("v-divider"),c=s("v-btn"),g=s("v-card"),E=s("v-menu"),L=s("v-list-item-title"),F=s("v-list-item"),k=s("v-list"),U=s("v-spacer"),J=s("v-card-actions"),Y=s("v-expand-transition"),Q=s("v-slide-y-transition"),z=s("v-col"),G=s("v-row"),j=s("v-list-subheader"),W=s("v-chip"),R=s("v-tooltip"),H=s("v-container"),X=s("v-main"),Z=s("v-dialog"),$=s("v-snackbar"),ee=s("v-app");return r(),w(ee,null,{default:e(()=>[t(p,{app:"",color:"primary",dark:"",class:"rounded-lg"},{default:e(()=>[t(u,{class:"tw:ml-2"},{default:e(()=>l[12]||(l[12]=[i("mdi-note-edit-outline")])),_:1}),t(I,null,{default:e(()=>l[13]||(l[13]=[i("Material Notes")])),_:1})]),_:1}),t(X,null,{default:e(()=>[t(H,{fluid:""},{default:e(()=>[t(G,null,{default:e(()=>[t(z,{cols:"12",class:"mb-4"},{default:e(()=>[t(Q,null,{default:e(()=>[t(g,{ref:"newNoteCard",elevation:"3",class:"mx-auto","max-width":"800px"},{default:e(()=>[t(_,null,{default:e(()=>[t(T,{modelValue:o.newNote.title,"onUpdate:modelValue":l[0]||(l[0]=a=>o.newNote.title=a),label:"Title",variant:"underlined","hide-details":"",onFocus:o.handleNewNoteFocus},null,8,["modelValue","onFocus"])]),_:1}),t(V,null,{default:e(()=>[t(B,{modelValue:o.newNote.content,"onUpdate:modelValue":l[1]||(l[1]=a=>o.newNote.content=a),label:"Take a note...",variant:"underlined","auto-grow":"",rows:"3","hide-details":"",onFocus:o.handleNewNoteFocus},null,8,["modelValue","onFocus"])]),_:1}),t(Y,null,{default:e(()=>[o.isNewNoteExpanded?(r(),b("div",pe,[t(f),t(J,null,{default:e(()=>[t(E,{"offset-y":""},{activator:e(({props:a})=>[t(c,A(a,{icon:"",variant:"text",color:"primary"}),{default:e(()=>[t(u,null,{default:e(()=>l[14]||(l[14]=[i("mdi-palette")])),_:1})]),_:2},1040)]),default:e(()=>[t(g,null,{default:e(()=>[t(V,{class:"pa-2"},{default:e(()=>[P("div",Ne,[(r(!0),b(h,null,D(o.noteColors,a=>(r(),w(c,{key:a.name,icon:"",class:"ma-1",size:"small",style:oe({backgroundColor:a.value}),onClick:y=>o.newNote.color=a.value},{default:e(()=>[o.newNote.color===a.value?(r(),w(u,{key:0},{default:e(()=>l[15]||(l[15]=[i("mdi-check")])),_:1})):K("",!0)]),_:2},1032,["style","onClick"]))),128))])]),_:1})]),_:1})]),_:1}),t(E,{"offset-y":""},{activator:e(({props:a})=>[t(c,A(a,{icon:"",variant:"text",color:"primary"}),{default:e(()=>[t(u,null,{default:e(()=>l[16]||(l[16]=[i("mdi-label-outline")])),_:1})]),_:2},1040)]),default:e(()=>[t(g,{"min-width":"200"},{default:e(()=>[t(k,null,{default:e(()=>[(r(!0),b(h,null,D(o.tags,(a,y)=>(r(),w(F,{key:y,onClick:N=>o.toggleTag(a)},{prepend:e(()=>[t(u,{color:o.newNote.tags.includes(a)?"primary":""},{default:e(()=>[i(C(o.newNote.tags.includes(a)?"mdi-checkbox-marked":"mdi-checkbox-blank-outline"),1)]),_:2},1032,["color"])]),default:e(()=>[t(L,null,{default:e(()=>[i(C(a),1)]),_:2},1024)]),_:2},1032,["onClick"]))),128)),t(f),t(F,null,{default:e(()=>[t(T,{modelValue:o.newTag,"onUpdate:modelValue":l[2]||(l[2]=a=>o.newTag=a),label:"Add new tag","hide-details":"",density:"compact","append-inner-icon":"mdi-plus","onClick:appendInner":o.addNewTag,onKeyup:ae(o.addNewTag,["enter"])},null,8,["modelValue","onClick:appendInner","onKeyup"])]),_:1})]),_:1})]),_:1})]),_:1}),t(U),t(c,{variant:"text",color:"primary",onClick:o.cancelNewNote},{default:e(()=>l[17]||(l[17]=[i(" Cancel ")])),_:1},8,["onClick"]),t(c,{variant:"text",color:"primary",disabled:!o.newNote.title&&!o.newNote.content,onClick:o.addNote},{default:e(()=>l[18]||(l[18]=[i(" Save ")])),_:1},8,["disabled","onClick"])]),_:1})])):K("",!0)]),_:1})]),_:1},512)]),_:1})]),_:1})]),_:1}),t(G,{class:"mt-2"},{default:e(()=>[t(z,{cols:"12"},{default:e(()=>[o.filteredNotes.length===0?(r(),b("div",ke,[t(u,{size:"64",color:"grey"},{default:e(()=>l[19]||(l[19]=[i("mdi-note-outline")])),_:1}),l[20]||(l[20]=P("div",{class:"text-h6 text-grey mt-2"},"No notes yet",-1))])):(r(),b("div",ye,[t(T,{modelValue:o.searchQuery,"onUpdate:modelValue":l[3]||(l[3]=a=>o.searchQuery=a),label:"Search notes","prepend-inner-icon":"mdi-magnify",variant:"outlined",density:"compact","hide-details":"",class:"mr-2"},null,8,["modelValue"]),t(E,{"offset-y":""},{activator:e(({props:a})=>[t(c,A(a,{variant:"outlined",color:"primary",class:"ml-2"}),{default:e(()=>[t(u,{left:""},{default:e(()=>l[21]||(l[21]=[i("mdi-filter-variant")])),_:1}),l[22]||(l[22]=i(" Filter "))]),_:2},1040)]),default:e(()=>[t(g,{"min-width":"250"},{default:e(()=>[t(k,null,{default:e(()=>[t(j,null,{default:e(()=>l[23]||(l[23]=[i("Filter by tags")])),_:1}),(r(!0),b(h,null,D(o.tags,(a,y)=>(r(),w(F,{key:y,onClick:N=>o.toggleFilterTag(a)},{prepend:e(()=>[t(u,{color:o.selectedTags.includes(a)?"primary":""},{default:e(()=>[i(C(o.selectedTags.includes(a)?"mdi-checkbox-marked":"mdi-checkbox-blank-outline"),1)]),_:2},1032,["color"])]),default:e(()=>[t(L,null,{default:e(()=>[i(C(a),1)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1})]),_:1})]))]),_:1})]),_:1}),t(G,null,{default:e(()=>[t(_e,{tag:"div",class:"note-container",css:!1,onBeforeEnter:o.beforeEnter,onEnter:o.enter,onLeave:o.leave},{default:e(()=>[(r(!0),b(h,null,D(o.filteredNotes,(a,y)=>(r(),w(z,{key:a.id,cols:"12",sm:"6",md:"4","data-index":y},{default:e(()=>[t(g,{color:a.color,elevation:o.hoveredNote===a.id?4:1,class:"note-card",onMouseover:N=>o.hoveredNote=a.id,onMouseleave:l[4]||(l[4]=N=>o.hoveredNote=null),onClick:N=>o.editNote(a)},{default:e(()=>[t(_,{class:"text-h6"},{default:e(()=>[i(C(a.title),1)]),_:2},1024),t(V,null,{default:e(()=>[P("div",xe,C(a.content),1),a.tags.length>0?(r(),b("div",we,[(r(!0),b(h,null,D(a.tags,N=>(r(),w(W,{key:N,size:"small",class:"ma-1",variant:"outlined"},{default:e(()=>[i(C(N),1)]),_:2},1024))),128))])):K("",!0)]),_:2},1024),t(J,null,{default:e(()=>[t(U),t(R,{text:"Archive",location:"top"},{activator:e(({props:N})=>[t(c,A({ref_for:!0},N,{icon:"",variant:"text",onClick:ne(te=>o.archiveNote(a.id),["stop"])}),{default:e(()=>[t(u,null,{default:e(()=>l[24]||(l[24]=[i("mdi-archive-outline")])),_:1})]),_:2},1040,["onClick"])]),_:2},1024),t(R,{text:"Delete",location:"top"},{activator:e(({props:N})=>[t(c,A({ref_for:!0},N,{icon:"",variant:"text",onClick:ne(te=>o.deleteNote(a.id),["stop"])}),{default:e(()=>[t(u,null,{default:e(()=>l[25]||(l[25]=[i("mdi-delete-outline")])),_:1})]),_:2},1040,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1032,["color","elevation","onMouseover","onClick"])]),_:2},1032,["data-index"]))),128))]),_:1},8,["onBeforeEnter","onEnter","onLeave"])]),_:1})]),_:1})]),_:1}),t(Z,{modelValue:o.editDialog,"onUpdate:modelValue":l[9]||(l[9]=a=>o.editDialog=a),"max-width":"600px"},{default:e(()=>[t(g,null,{default:e(()=>[t(_,null,{default:e(()=>[t(T,{modelValue:o.editedNote.title,"onUpdate:modelValue":l[5]||(l[5]=a=>o.editedNote.title=a),label:"Title",variant:"underlined","hide-details":""},null,8,["modelValue"])]),_:1}),t(V,null,{default:e(()=>[t(B,{modelValue:o.editedNote.content,"onUpdate:modelValue":l[6]||(l[6]=a=>o.editedNote.content=a),label:"Note content",variant:"underlined","auto-grow":"",rows:"5","hide-details":""},null,8,["modelValue"]),P("div",be,[(r(!0),b(h,null,D(o.editedNote.tags,a=>(r(),w(W,{key:a,class:"ma-1",closable:"","onClick:close":y=>o.removeTagFromEdited(a)},{default:e(()=>[i(C(a),1)]),_:2},1032,["onClick:close"]))),128))])]),_:1}),t(f),t(J,null,{default:e(()=>[t(E,{"offset-y":""},{activator:e(({props:a})=>[t(c,A(a,{icon:"",variant:"text",color:"primary"}),{default:e(()=>[t(u,null,{default:e(()=>l[26]||(l[26]=[i("mdi-palette")])),_:1})]),_:2},1040)]),default:e(()=>[t(g,null,{default:e(()=>[t(V,{class:"pa-2"},{default:e(()=>[P("div",Ce,[(r(!0),b(h,null,D(o.noteColors,a=>(r(),w(c,{key:a.name,icon:"",class:"ma-1",size:"small",style:oe({backgroundColor:a.value}),onClick:y=>o.editedNote.color=a.value},{default:e(()=>[o.editedNote.color===a.value?(r(),w(u,{key:0},{default:e(()=>l[27]||(l[27]=[i("mdi-check")])),_:1})):K("",!0)]),_:2},1032,["style","onClick"]))),128))])]),_:1})]),_:1})]),_:1}),t(E,{"offset-y":""},{activator:e(({props:a})=>[t(c,A(a,{icon:"",variant:"text",color:"primary"}),{default:e(()=>[t(u,null,{default:e(()=>l[28]||(l[28]=[i("mdi-label-outline")])),_:1})]),_:2},1040)]),default:e(()=>[t(g,{"min-width":"200"},{default:e(()=>[t(k,null,{default:e(()=>[(r(!0),b(h,null,D(o.tags,(a,y)=>(r(),w(F,{key:y,onClick:N=>o.toggleEditedTag(a)},{prepend:e(()=>[t(u,{color:o.editedNote.tags.includes(a)?"primary":""},{default:e(()=>[i(C(o.editedNote.tags.includes(a)?"mdi-checkbox-marked":"mdi-checkbox-blank-outline"),1)]),_:2},1032,["color"])]),default:e(()=>[t(L,null,{default:e(()=>[i(C(a),1)]),_:2},1024)]),_:2},1032,["onClick"]))),128)),t(f),t(F,null,{default:e(()=>[t(T,{modelValue:o.newTag,"onUpdate:modelValue":l[7]||(l[7]=a=>o.newTag=a),label:"Add new tag","hide-details":"",density:"compact","append-inner-icon":"mdi-plus","onClick:appendInner":o.addNewTagToEdited,onKeyup:ae(o.addNewTagToEdited,["enter"])},null,8,["modelValue","onClick:appendInner","onKeyup"])]),_:1})]),_:1})]),_:1})]),_:1}),t(U),t(c,{variant:"text",color:"primary",onClick:l[8]||(l[8]=a=>o.editDialog=!1)},{default:e(()=>l[29]||(l[29]=[i(" Cancel ")])),_:1}),t(c,{variant:"text",color:"primary",onClick:o.updateNote},{default:e(()=>l[30]||(l[30]=[i(" Save ")])),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),t($,{modelValue:o.snackbar.show,"onUpdate:modelValue":l[11]||(l[11]=a=>o.snackbar.show=a),timeout:2e3,color:o.snackbar.color},{actions:e(()=>[o.snackbar.action?(r(),w(c,{key:0,variant:"text",onClick:o.handleSnackbarAction},{default:e(()=>l[31]||(l[31]=[i(" Undo ")])),_:1},8,["onClick"])):K("",!0),t(c,{variant:"text",onClick:l[10]||(l[10]=a=>o.snackbar.show=!1)},{default:e(()=>l[32]||(l[32]=[i(" Close ")])),_:1})]),default:e(()=>[i(C(o.snackbar.text)+" ",1)]),_:1},8,["modelValue","color"]),t(c,{color:"primary",icon:"",size:"large",class:"floating-btn",onClick:o.focusNewNote},{default:e(()=>[t(u,null,{default:e(()=>l[33]||(l[33]=[i("mdi-plus")])),_:1})]),_:1},8,["onClick"])]),_:1})}const Se=ce(ge,[["render",Te],["__scopeId","data-v-74c0370d"]]);export{Se as default};
