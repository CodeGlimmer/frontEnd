function vt(y){return y&&y.__esModule&&Object.prototype.hasOwnProperty.call(y,"default")?y.default:y}/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var pe,ur;function K(){if(ur)return pe;ur=1;var y=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,h=Object.prototype.propertyIsEnumerable;function i(v){if(v==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(v)}function o(){try{if(!Object.assign)return!1;var v=new String("abc");if(v[5]="de",Object.getOwnPropertyNames(v)[0]==="5")return!1;for(var T={},d=0;d<10;d++)T["_"+String.fromCharCode(d)]=d;var p=Object.getOwnPropertyNames(T).map(function(t){return T[t]});if(p.join("")!=="0123456789")return!1;var l={};return"abcdefghijklmnopqrst".split("").forEach(function(t){l[t]=t}),Object.keys(Object.assign({},l)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}return pe=o()?Object.assign:function(v,T){for(var d,p=i(v),l,t=1;t<arguments.length;t++){d=Object(arguments[t]);for(var s in d)n.call(d,s)&&(p[s]=d[s]);if(y){l=y(d);for(var u=0;u<l.length;u++)h.call(d,l[u])&&(p[l[u]]=d[l[u]])}}return p},pe}var me={exports:{}},de,cr;function sr(){return cr||(cr=1,de=function(y,n,h){n.forEach(function(i){var o=h[i];y.prototype[i]=function(v){return v.ros=this,new o(v)}})}),de}var ye,fr;function rt(){return fr||(fr=1,ye=typeof window<"u"?window.WebSocket:WebSocket),ye}var ge,lr;function pt(){if(lr)return ge;lr=1;var y=arguments[3],n=arguments[4],h=arguments[5],i=JSON.stringify;return ge=function(o,v){for(var T,d=Object.keys(h),p=0,l=d.length;p<l;p++){var t=d[p],s=h[t].exports;if(s===o||s&&s.default===o){T=t;break}}if(!T){T=Math.floor(Math.pow(16,8)*Math.random()).toString(16);for(var u={},p=0,l=d.length;p<l;p++){var t=d[p];u[t]=t}n[T]=["function(require,module,exports){"+o+"(self); }",u]}var c=Math.floor(Math.pow(16,8)*Math.random()).toString(16),S={};S[T]=T,n[c]=["function(require,module,exports){var f = require("+i(T)+");(f.default ? f.default : f)(self);}",S];var O={};M(c);function M(I){O[I]=!0;for(var Q in n[I][1]){var Y=n[I][1][Q];O[Y]||M(Y)}}var L="("+y+")({"+Object.keys(O).map(function(I){return i(I)+":["+n[I][0]+","+i(n[I][1])+"]"}).join(",")+"},{},["+i(c)+"])",A=window.URL||window.webkitURL||window.mozURL||window.msURL,U=new Blob([L],{type:"text/javascript"});if(v&&v.bare)return U;var N=A.createObjectURL(U),G=new Worker(N);return G.objectURL=N,G},ge}var we={exports:{}},hr;function mt(){return hr||(hr=1,function(y){function n(l){var t={};function s(c){if(t[c])return t[c].exports;var S=t[c]={i:c,l:!1,exports:{}};return l[c].call(S.exports,S,S.exports,s),S.l=!0,S.exports}s.m=l,s.c=t,s.i=function(c){return c},s.d=function(c,S,O){s.o(c,S)||Object.defineProperty(c,S,{configurable:!1,enumerable:!0,get:O})},s.r=function(c){Object.defineProperty(c,"__esModule",{value:!0})},s.n=function(c){var S=c&&c.__esModule?function(){return c.default}:function(){return c};return s.d(S,"a",S),S},s.o=function(c,S){return Object.prototype.hasOwnProperty.call(c,S)},s.p="/",s.oe=function(c){throw console.error(c),c};var u=s(s.s=ENTRY_MODULE);return u.default||u}var h="[\\.|\\-|\\+|\\w|/|@]+",i="\\(\\s*(/\\*.*?\\*/)?\\s*.*?("+h+").*?\\)";function o(l){return(l+"").replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}function v(l){return!isNaN(1*l)}function T(l,t,s){var u={};u[s]=[];var c=t.toString(),S=c.match(/^function\s?\w*\(\w+,\s*\w+,\s*(\w+)\)/);if(!S)return u;for(var O=S[1],M=new RegExp("(\\\\n|\\W)"+o(O)+i,"g"),L;L=M.exec(c);)L[3]!=="dll-reference"&&u[s].push(L[3]);for(M=new RegExp("\\("+o(O)+'\\("(dll-reference\\s('+h+'))"\\)\\)'+i,"g");L=M.exec(c);)l[L[2]]||(u[s].push(L[1]),l[L[2]]=__webpack_require__(L[1]).m),u[L[2]]=u[L[2]]||[],u[L[2]].push(L[4]);for(var A=Object.keys(u),U=0;U<A.length;U++)for(var N=0;N<u[A[U]].length;N++)v(u[A[U]][N])&&(u[A[U]][N]=1*u[A[U]][N]);return u}function d(l){var t=Object.keys(l);return t.reduce(function(s,u){return s||l[u].length>0},!1)}function p(l,t){for(var s={main:[t]},u={main:[]},c={main:{}};d(s);)for(var S=Object.keys(s),O=0;O<S.length;O++){var M=S[O],L=s[M],A=L.pop();if(c[M]=c[M]||{},!(c[M][A]||!l[M][A])){c[M][A]=!0,u[M]=u[M]||[],u[M].push(A);for(var U=T(l,l[M][A],M),N=Object.keys(U),G=0;G<N.length;G++)s[N[G]]=s[N[G]]||[],s[N[G]]=s[N[G]].concat(U[N[G]])}}return u}y.exports=function(l,t){t=t||{};var s={main:__webpack_modules__},u=t.all?{main:Object.keys(s.main)}:p(s,l),c="";Object.keys(u).filter(function(A){return A!=="main"}).forEach(function(A){for(var U=0;u[A][U];)U++;u[A].push(U),s[A][U]="(function(module, exports, __webpack_require__) { module.exports = __webpack_require__; })",c=c+"var "+A+" = ("+n.toString().replace("ENTRY_MODULE",JSON.stringify(U))+")({"+u[A].map(function(N){return""+JSON.stringify(N)+": "+s[A][N].toString()}).join(",")+`});
`}),c=c+"new (("+n.toString().replace("ENTRY_MODULE",JSON.stringify(l))+")({"+u.main.map(function(A){return""+JSON.stringify(A)+": "+s.main[A].toString()}).join(",")+"}))(self);";var S=new window.Blob([c],{type:"text/javascript"});if(t.bare)return S;var O=window.URL||window.webkitURL||window.mozURL||window.msURL,M=O.createObjectURL(S),L=new window.Worker(M);return L.objectURL=M,L}}(we)),we.exports}var _e,vr;function dt(){if(vr)return _e;vr=1;var y=y||rt();return _e=function(n){var h=null;function i(v){var T=v.data;T instanceof ArrayBuffer?n.postMessage(T,[T]):n.postMessage(T)}function o(v){n.postMessage({type:v.type})}n.addEventListener("message",function(v){var T=v.data;if(typeof T=="string")h.send(T);else if(T.hasOwnProperty("close"))h.close(),h=null;else if(T.hasOwnProperty("uri")){var d=T.uri;h=new y(d),h.binaryType="arraybuffer",h.onmessage=i,h.onclose=o,h.onopen=o,h.onerror=o}else throw"Unknown message to WorkerSocket"})},_e}var be,pr;function yt(){if(pr)return be;pr=1;try{var y=pt()}catch{var y=mt()}var n=dt();function h(i){this.socket_=y(n),this.socket_.addEventListener("message",this.handleWorkerMessage_.bind(this)),this.socket_.postMessage({uri:i})}return h.prototype.handleWorkerMessage_=function(i){var o=i.data;if(o instanceof ArrayBuffer||typeof o=="string")this.onmessage(i);else{var v=o.type;if(v==="close")this.onclose(null);else if(v==="open")this.onopen(null);else if(v==="error")this.onerror(null);else throw"Unknown message from workersocket"}},h.prototype.send=function(i){this.socket_.postMessage(i)},h.prototype.close=function(){this.socket_.postMessage({close:!0})},be=h,be}var xe,mr;function gt(){return mr||(mr=1,xe=function(){return document.createElement("canvas")}),xe}var Te,dr;function wt(){if(dr)return Te;dr=1;var y=gt(),n=y.Image||window.Image;function h(i,o){var v=new n;v.onload=function(){var T=new y,d=T.getContext("2d");T.width=v.width,T.height=v.height,d.imageSmoothingEnabled=!1,d.webkitImageSmoothingEnabled=!1,d.mozImageSmoothingEnabled=!1,d.drawImage(v,0,0);for(var p=d.getImageData(0,0,v.width,v.height).data,l="",t=0;t<p.length;t+=4)l+=String.fromCharCode(p[t],p[t+1],p[t+2]);o(JSON.parse(l))},v.src="data:image/png;base64,"+i}return Te=h,Te}var ce={exports:{}},_t=ce.exports,yr;function bt(){return yr||(yr=1,function(y){(function(n,h){var i=Math.pow(2,-24),o=Math.pow(2,32),v=Math.pow(2,53);function T(l){var t=new ArrayBuffer(256),s=new DataView(t),u,c=0;function S(k){for(var C=t.byteLength,E=c+k;C<E;)C*=2;if(C!==t.byteLength){var q=s;t=new ArrayBuffer(C),s=new DataView(t);for(var R=c+3>>2,P=0;P<R;++P)s.setUint32(P*4,q.getUint32(P*4))}return u=k,s}function O(){c+=u}function M(k){O(S(8).setFloat64(c,k))}function L(k){O(S(1).setUint8(c,k))}function A(k){for(var C=S(k.length),E=0;E<k.length;++E)C.setUint8(c+E,k[E]);O()}function U(k){O(S(2).setUint16(c,k))}function N(k){O(S(4).setUint32(c,k))}function G(k){var C=k%o,E=(k-C)/o,q=S(8);q.setUint32(c,E),q.setUint32(c+4,C),O()}function I(k,C){C<24?L(k<<5|C):C<256?(L(k<<5|24),L(C)):C<65536?(L(k<<5|25),U(C)):C<4294967296?(L(k<<5|26),N(C)):(L(k<<5|27),G(C))}function Q(k){var C;if(k===!1)return L(244);if(k===!0)return L(245);if(k===null)return L(246);if(k===h)return L(247);switch(typeof k){case"number":if(Math.floor(k)===k){if(0<=k&&k<=v)return I(0,k);if(-v<=k&&k<0)return I(1,-(k+1))}return L(251),M(k);case"string":var E=[];for(C=0;C<k.length;++C){var q=k.charCodeAt(C);q<128?E.push(q):q<2048?(E.push(192|q>>6),E.push(128|q&63)):q<55296?(E.push(224|q>>12),E.push(128|q>>6&63),E.push(128|q&63)):(q=(q&1023)<<10,q|=k.charCodeAt(++C)&1023,q+=65536,E.push(240|q>>18),E.push(128|q>>12&63),E.push(128|q>>6&63),E.push(128|q&63))}return I(3,E.length),A(E);default:var R;if(Array.isArray(k))for(R=k.length,I(4,R),C=0;C<R;++C)Q(k[C]);else if(k instanceof Uint8Array)I(2,k.length),A(k);else{var P=Object.keys(k);for(R=P.length,I(5,R),C=0;C<R;++C){var j=P[C];Q(j),Q(k[j])}}}}if(Q(l),"slice"in t)return t.slice(0,c);for(var Y=new ArrayBuffer(c),z=new DataView(Y),H=0;H<c;++H)z.setUint8(H,s.getUint8(H));return Y}function d(l,t,s){var u=new DataView(l),c=0;typeof t!="function"&&(t=function(E){return E}),typeof s!="function"&&(s=function(){return h});function S(E,q){return c+=q,E}function O(E){return S(new Uint8Array(l,c,E),E)}function M(){var E=new ArrayBuffer(4),q=new DataView(E),R=N(),P=R&32768,j=R&31744,e=R&1023;if(j===31744)j=261120;else if(j!==0)j+=114688;else if(e!==0)return e*i;return q.setUint32(0,P<<16|j<<13|e<<13),q.getFloat32(0)}function L(){return S(u.getFloat32(c),4)}function A(){return S(u.getFloat64(c),8)}function U(){return S(u.getUint8(c),1)}function N(){return S(u.getUint16(c),2)}function G(){return S(u.getUint32(c),4)}function I(){return G()*o+G()}function Q(){return u.getUint8(c)!==255?!1:(c+=1,!0)}function Y(E){if(E<24)return E;if(E===24)return U();if(E===25)return N();if(E===26)return G();if(E===27)return I();if(E===31)return-1;throw"Invalid length encoding"}function z(E){var q=U();if(q===255)return-1;var R=Y(q&31);if(R<0||q>>5!==E)throw"Invalid indefinite length element";return R}function H(E,q){for(var R=0;R<q;++R){var P=U();P&128&&(P<224?(P=(P&31)<<6|U()&63,q-=1):P<240?(P=(P&15)<<12|(U()&63)<<6|U()&63,q-=2):(P=(P&15)<<18|(U()&63)<<12|(U()&63)<<6|U()&63,q-=3)),P<65536?E.push(P):(P-=65536,E.push(55296|P>>10),E.push(56320|P&1023))}}function k(){var E=U(),q=E>>5,R=E&31,P,j;if(q===7)switch(R){case 25:return M();case 26:return L();case 27:return A()}if(j=Y(R),j<0&&(q<2||6<q))throw"Invalid length";switch(q){case 0:return j;case 1:return-1-j;case 2:if(j<0){for(var e=[],r=0;(j=z(q))>=0;)r+=j,e.push(O(j));var a=new Uint8Array(r),f=0;for(P=0;P<e.length;++P)a.set(e[P],f),f+=e[P].length;return a}return O(j);case 3:var m=[];if(j<0)for(;(j=z(q))>=0;)H(m,j);else H(m,j);return String.fromCharCode.apply(null,m);case 4:var g;if(j<0)for(g=[];!Q();)g.push(k());else for(g=new Array(j),P=0;P<j;++P)g[P]=k();return g;case 5:var w={};for(P=0;P<j||j<0&&!Q();++P){var x=k();w[x]=k()}return w;case 6:return t(k(),j);case 7:switch(j){case 20:return!1;case 21:return!0;case 22:return null;case 23:return h;default:return s(j)}}}var C=k();if(c!==l.byteLength)throw"Remaining bytes";return C}var p={encode:T,decode:d};y.exports?y.exports=p:n.CBOR||(n.CBOR=p)})(_t)}(ce)),ce.exports}var Se={exports:{}},gr;function xt(){return gr||(gr=1,function(y){var n=Math.pow(2,32),h=!1;function i(){h||(h=!0,console.warn("CBOR 64-bit integer array values may lose precision. No further warnings."))}function o(t){i();for(var s=t.byteLength,u=t.byteOffset,c=s/8,S=t.buffer.slice(u,u+s),O=new Uint32Array(S),M=new Array(c),L=0;L<c;L++){var A=L*2,U=O[A],N=O[A+1];M[L]=U+n*N}return M}function v(t){i();for(var s=t.byteLength,u=t.byteOffset,c=s/8,S=t.buffer.slice(u,u+s),O=new Uint32Array(S),M=new Int32Array(S),L=new Array(c),A=0;A<c;A++){var U=A*2,N=O[U],G=M[U+1];L[A]=N+n*G}return L}function T(t,s){var u=t.byteLength,c=t.byteOffset,S=t.buffer.slice(c,c+u);return new s(S)}var d={64:Uint8Array,69:Uint16Array,70:Uint32Array,72:Int8Array,77:Int16Array,78:Int32Array,85:Float32Array,86:Float64Array},p={71:o,79:v};function l(t,s){if(s in d){var u=d[s];return T(t,u)}return s in p?p[s](t):t}y.exports&&(y.exports=l)}(Se)),Se.exports}var Re,wr;function Tt(){if(wr)return Re;wr=1;var y=wt(),n=bt(),h=xt(),i=null;typeof bson<"u"&&(i=bson().BSON);function o(v){var T=null;v.transportOptions.decoder&&(T=v.transportOptions.decoder);function d(t){t.op==="publish"?v.emit(t.topic,t.msg):t.op==="service_response"?v.emit(t.id,t):t.op==="call_service"?v.emit(t.service,t):t.op==="status"&&(t.id?v.emit("status:"+t.id,t):v.emit("status",t))}function p(t,s){t.op==="png"?y(t.data,s):s(t)}function l(t,s){if(!i)throw"Cannot process BSON encoded message without BSON header.";var u=new FileReader;u.onload=function(){var c=new Uint8Array(this.result),S=i.deserialize(c);s(S)},u.readAsArrayBuffer(t)}return{onopen:function(s){v.isConnected=!0,v.emit("connection",s)},onclose:function(s){v.isConnected=!1,v.emit("close",s)},onerror:function(s){v.emit("error",s)},onmessage:function(s){if(T)T(s.data,function(S){d(S)});else if(typeof Blob<"u"&&s.data instanceof Blob)l(s.data,function(S){p(S,d)});else if(s.data instanceof ArrayBuffer){var u=n.decode(s.data,h);d(u)}else{var c=JSON.parse(typeof s=="string"?s:s.data);p(c,d)}}}}return Re=o,Re}var Le,_r;function tt(){if(_r)return Le;_r=1;var y=K();function n(h){y(this,h)}return Le=n,Le}var ke,br;function se(){if(br)return ke;br=1;var y=K();function n(h){y(this,h)}return ke=n,ke}var Ae={exports:{}};/*!
 * EventEmitter2
 * https://github.com/hij1nx/EventEmitter2
 *
 * Copyright (c) 2013 hij1nx
 * Licensed under the MIT license.
 */var xr;function $(){return xr||(xr=1,function(y,n){(function(h){var i=Object.hasOwnProperty,o=Array.isArray?Array.isArray:function(r){return Object.prototype.toString.call(r)==="[object Array]"},v=10,T=typeof process=="object"&&typeof process.nextTick=="function",d=typeof Symbol=="function",p=typeof Reflect=="object",l=typeof setImmediate=="function",t=l?setImmediate:setTimeout,s=d?p&&typeof Reflect.ownKeys=="function"?Reflect.ownKeys:function(e){var r=Object.getOwnPropertyNames(e);return r.push.apply(r,Object.getOwnPropertySymbols(e)),r}:Object.keys;function u(){this._events={},this._conf&&c.call(this,this._conf)}function c(e){e&&(this._conf=e,e.delimiter&&(this.delimiter=e.delimiter),e.maxListeners!==h&&(this._maxListeners=e.maxListeners),e.wildcard&&(this.wildcard=e.wildcard),e.newListener&&(this._newListener=e.newListener),e.removeListener&&(this._removeListener=e.removeListener),e.verboseMemoryLeak&&(this.verboseMemoryLeak=e.verboseMemoryLeak),e.ignoreErrors&&(this.ignoreErrors=e.ignoreErrors),this.wildcard&&(this.listenerTree={}))}function S(e,r){var a="(node) warning: possible EventEmitter memory leak detected. "+e+" listeners added. Use emitter.setMaxListeners() to increase limit.";if(this.verboseMemoryLeak&&(a+=" Event name: "+r+"."),typeof process<"u"&&process.emitWarning){var f=new Error(a);f.name="MaxListenersExceededWarning",f.emitter=this,f.count=e,process.emitWarning(f)}else console.error(a),console.trace&&console.trace()}var O=function(e,r,a){var f=arguments.length;switch(f){case 0:return[];case 1:return[e];case 2:return[e,r];case 3:return[e,r,a];default:for(var m=new Array(f);f--;)m[f]=arguments[f];return m}};function M(e,r){for(var a={},f,m=e.length,g=0,w=0;w<m;w++)f=e[w],a[f]=w<g?r[w]:h;return a}function L(e,r,a){this._emitter=e,this._target=r,this._listeners={},this._listenersCount=0;var f,m;if((a.on||a.off)&&(f=a.on,m=a.off),r.addEventListener?(f=r.addEventListener,m=r.removeEventListener):r.addListener?(f=r.addListener,m=r.removeListener):r.on&&(f=r.on,m=r.off),!f&&!m)throw Error("target does not implement any known event API");if(typeof f!="function")throw TypeError("on method must be a function");if(typeof m!="function")throw TypeError("off method must be a function");this._on=f,this._off=m;var g=e._observers;g?g.push(this):e._observers=[this]}Object.assign(L.prototype,{subscribe:function(e,r,a){var f=this,m=this._target,g=this._emitter,w=this._listeners,x=function(){var _=O.apply(null,arguments),b={data:_,name:r,original:e};if(a){var F=a.call(m,b);F!==!1&&g.emit.apply(g,[b.name].concat(_));return}g.emit.apply(g,[r].concat(_))};if(w[e])throw Error("Event '"+e+"' is already listening");this._listenersCount++,g._newListener&&g._removeListener&&!f._onNewListener?(this._onNewListener=function(_){_===r&&w[e]===null&&(w[e]=x,f._on.call(m,e,x))},g.on("newListener",this._onNewListener),this._onRemoveListener=function(_){_===r&&!g.hasListeners(_)&&w[e]&&(w[e]=null,f._off.call(m,e,x))},w[e]=null,g.on("removeListener",this._onRemoveListener)):(w[e]=x,f._on.call(m,e,x))},unsubscribe:function(e){var r=this,a=this._listeners,f=this._emitter,m,g,w=this._off,x=this._target,_;if(e&&typeof e!="string")throw TypeError("event must be a string");function b(){r._onNewListener&&(f.off("newListener",r._onNewListener),f.off("removeListener",r._onRemoveListener),r._onNewListener=null,r._onRemoveListener=null);var F=Y.call(f,r);f._observers.splice(F,1)}if(e){if(m=a[e],!m)return;w.call(x,e,m),delete a[e],--this._listenersCount||b()}else{for(g=s(a),_=g.length;_-- >0;)e=g[_],w.call(x,e,a[e]);this._listeners={},this._listenersCount=0,b()}}});function A(e,r,a,f){var m=Object.assign({},r);if(!e)return m;if(typeof e!="object")throw TypeError("options must be an object");var g=Object.keys(e),w=g.length,x,_,b;function F(D){throw Error('Invalid "'+x+'" option value'+(D?". Reason: "+D:""))}for(var V=0;V<w;V++){if(x=g[V],!i.call(r,x))throw Error('Unknown "'+x+'" option');_=e[x],_!==h&&(b=a[x],m[x]=b?b(_,F):_)}return m}function U(e,r){return(typeof e!="function"||!e.hasOwnProperty("prototype"))&&r("value must be a constructor"),e}function N(e){var r="value must be type of "+e.join("|"),a=e.length,f=e[0],m=e[1];return a===1?function(g,w){if(typeof g===f)return g;w(r)}:a===2?function(g,w){var x=typeof g;if(x===f||x===m)return g;w(r)}:function(g,w){for(var x=typeof g,_=a;_-- >0;)if(x===e[_])return g;w(r)}}var G=N(["function"]),I=N(["object","function"]);function Q(e,r,a){var f,m,g=0,w,x=new e(function(_,b,F){a=A(a,{timeout:0,overload:!1},{timeout:function(W,J){return W*=1,(typeof W!="number"||W<0||!Number.isFinite(W))&&J("timeout must be a positive number"),W}}),f=!a.overload&&typeof e.prototype.cancel=="function"&&typeof F=="function";function V(){m&&(m=null),g&&(clearTimeout(g),g=0)}var D=function(W){V(),_(W)},B=function(W){V(),b(W)};f?r(D,B,F):(m=[function(W){B(W||Error("canceled"))}],r(D,B,function(W){if(w)throw Error("Unable to subscribe on cancel event asynchronously");if(typeof W!="function")throw TypeError("onCancel callback must be a function");m.push(W)}),w=!0),a.timeout>0&&(g=setTimeout(function(){var W=Error("timeout");W.code="ETIMEDOUT",g=0,x.cancel(W),b(W)},a.timeout))});return f||(x.cancel=function(_){if(m){for(var b=m.length,F=1;F<b;F++)m[F](_);m[0](_),m=null}}),x}function Y(e){var r=this._observers;if(!r)return-1;for(var a=r.length,f=0;f<a;f++)if(r[f]._target===e)return f;return-1}function z(e,r,a,f,m){if(!a)return null;if(f===0){var g=typeof r;if(g==="string"){var w,x,_=0,b=0,F=this.delimiter,V=F.length;if((x=r.indexOf(F))!==-1){w=new Array(5);do w[_++]=r.slice(b,x),b=x+V;while((x=r.indexOf(F,b))!==-1);w[_++]=r.slice(b),r=w,m=_}else r=[r],m=1}else g==="object"?m=r.length:(r=[r],m=1)}var D=null,B,W,J,le,he,te=r[f],ve=r[f+1],Z,X;if(f===m)a._listeners&&(typeof a._listeners=="function"?(e&&e.push(a._listeners),D=[a]):(e&&e.push.apply(e,a._listeners),D=[a]));else if(te==="*"){for(Z=s(a),x=Z.length;x-- >0;)B=Z[x],B!=="_listeners"&&(X=z(e,r,a[B],f+1,m),X&&(D?D.push.apply(D,X):D=X));return D}else if(te==="**"){for(he=f+1===m||f+2===m&&ve==="*",he&&a._listeners&&(D=z(e,r,a,m,m)),Z=s(a),x=Z.length;x-- >0;)B=Z[x],B!=="_listeners"&&(B==="*"||B==="**"?(a[B]._listeners&&!he&&(X=z(e,r,a[B],m,m),X&&(D?D.push.apply(D,X):D=X)),X=z(e,r,a[B],f,m)):B===ve?X=z(e,r,a[B],f+2,m):X=z(e,r,a[B],f,m),X&&(D?D.push.apply(D,X):D=X));return D}else a[te]&&(D=z(e,r,a[te],f+1,m));if(W=a["*"],W&&z(e,r,W,f+1,m),J=a["**"],J)if(f<m)for(J._listeners&&z(e,r,J,m,m),Z=s(J),x=Z.length;x-- >0;)B=Z[x],B!=="_listeners"&&(B===ve?z(e,r,J[B],f+2,m):B===te?z(e,r,J[B],f+1,m):(le={},le[B]=J[B],z(e,r,{"**":le},f+1,m)));else J._listeners?z(e,r,J,m,m):J["*"]&&J["*"]._listeners&&z(e,r,J["*"],m,m);return D}function H(e,r,a){var f=0,m=0,g,w=this.delimiter,x=w.length,_;if(typeof e=="string")if((g=e.indexOf(w))!==-1){_=new Array(5);do _[f++]=e.slice(m,g),m=g+x;while((g=e.indexOf(w,m))!==-1);_[f++]=e.slice(m)}else _=[e],f=1;else _=e,f=e.length;if(f>1){for(g=0;g+1<f;g++)if(_[g]==="**"&&_[g+1]==="**")return}var b=this.listenerTree,F;for(g=0;g<f;g++)if(F=_[g],b=b[F]||(b[F]={}),g===f-1)return b._listeners?(typeof b._listeners=="function"&&(b._listeners=[b._listeners]),a?b._listeners.unshift(r):b._listeners.push(r),!b._listeners.warned&&this._maxListeners>0&&b._listeners.length>this._maxListeners&&(b._listeners.warned=!0,S.call(this,b._listeners.length,F))):b._listeners=r,!0;return!0}function k(e,r,a,f){for(var m=s(e),g=m.length,w,x,_,b=e._listeners,F;g-- >0;)x=m[g],w=e[x],x==="_listeners"?_=a:_=a?a.concat(x):[x],F=f||typeof x=="symbol",b&&r.push(F?_:_.join(this.delimiter)),typeof w=="object"&&k.call(this,w,r,_,F);return r}function C(e){for(var r=s(e),a=r.length,f,m,g;a-- >0;)m=r[a],f=e[m],f&&(g=!0,m!=="_listeners"&&!C(f)&&delete e[m]);return g}function E(e,r,a){this.emitter=e,this.event=r,this.listener=a}E.prototype.off=function(){return this.emitter.off(this.event,this.listener),this};function q(e,r,a){if(a===!0)m=!0;else if(a===!1)f=!0;else{if(!a||typeof a!="object")throw TypeError("options should be an object or true");var f=a.async,m=a.promisify,g=a.nextTick,w=a.objectify}if(f||g||m){var x=r,_=r._origin||r;if(g&&!T)throw Error("process.nextTick is not supported");m===h&&(m=r.constructor.name==="AsyncFunction"),r=function(){var b=arguments,F=this,V=this.event;return m?g?Promise.resolve():new Promise(function(D){t(D)}).then(function(){return F.event=V,x.apply(F,b)}):(g?process.nextTick:t)(function(){F.event=V,x.apply(F,b)})},r._async=!0,r._origin=_}return[r,w?new E(this,e,r):this]}function R(e){this._events={},this._newListener=!1,this._removeListener=!1,this.verboseMemoryLeak=!1,c.call(this,e)}R.EventEmitter2=R,R.prototype.listenTo=function(e,r,a){if(typeof e!="object")throw TypeError("target musts be an object");var f=this;a=A(a,{on:h,off:h,reducers:h},{on:G,off:G,reducers:I});function m(g){if(typeof g!="object")throw TypeError("events must be an object");var w=a.reducers,x=Y.call(f,e),_;x===-1?_=new L(f,e,a):_=f._observers[x];for(var b=s(g),F=b.length,V,D=typeof w=="function",B=0;B<F;B++)V=b[B],_.subscribe(V,g[V]||V,D?w:w&&w[V])}return o(r)?m(M(r)):m(typeof r=="string"?M(r.split(/\s+/)):r),this},R.prototype.stopListeningTo=function(e,r){var a=this._observers;if(!a)return!1;var f=a.length,m,g=!1;if(e&&typeof e!="object")throw TypeError("target should be an object");for(;f-- >0;)m=a[f],(!e||m._target===e)&&(m.unsubscribe(r),g=!0);return g},R.prototype.delimiter=".",R.prototype.setMaxListeners=function(e){e!==h&&(this._maxListeners=e,this._conf||(this._conf={}),this._conf.maxListeners=e)},R.prototype.getMaxListeners=function(){return this._maxListeners},R.prototype.event="",R.prototype.once=function(e,r,a){return this._once(e,r,!1,a)},R.prototype.prependOnceListener=function(e,r,a){return this._once(e,r,!0,a)},R.prototype._once=function(e,r,a,f){return this._many(e,1,r,a,f)},R.prototype.many=function(e,r,a,f){return this._many(e,r,a,!1,f)},R.prototype.prependMany=function(e,r,a,f){return this._many(e,r,a,!0,f)},R.prototype._many=function(e,r,a,f,m){var g=this;if(typeof a!="function")throw new Error("many only accepts instances of Function");function w(){return--r===0&&g.off(e,w),a.apply(this,arguments)}return w._origin=a,this._on(e,w,f,m)},R.prototype.emit=function(){if(!this._events&&!this._all)return!1;this._events||u.call(this);var e=arguments[0],r,a=this.wildcard,f,m,g,w,x;if(e==="newListener"&&!this._newListener&&!this._events.newListener)return!1;if(a&&(r=e,e!=="newListener"&&e!=="removeListener"&&typeof e=="object")){if(m=e.length,d){for(g=0;g<m;g++)if(typeof e[g]=="symbol"){x=!0;break}}x||(e=e.join(this.delimiter))}var _=arguments.length,b;if(this._all&&this._all.length)for(b=this._all.slice(),g=0,m=b.length;g<m;g++)switch(this.event=e,_){case 1:b[g].call(this,e);break;case 2:b[g].call(this,e,arguments[1]);break;case 3:b[g].call(this,e,arguments[1],arguments[2]);break;default:b[g].apply(this,arguments)}if(a)b=[],z.call(this,b,r,this.listenerTree,0,m);else if(b=this._events[e],typeof b=="function"){switch(this.event=e,_){case 1:b.call(this);break;case 2:b.call(this,arguments[1]);break;case 3:b.call(this,arguments[1],arguments[2]);break;default:for(f=new Array(_-1),w=1;w<_;w++)f[w-1]=arguments[w];b.apply(this,f)}return!0}else b&&(b=b.slice());if(b&&b.length){if(_>3)for(f=new Array(_-1),w=1;w<_;w++)f[w-1]=arguments[w];for(g=0,m=b.length;g<m;g++)switch(this.event=e,_){case 1:b[g].call(this);break;case 2:b[g].call(this,arguments[1]);break;case 3:b[g].call(this,arguments[1],arguments[2]);break;default:b[g].apply(this,f)}return!0}else if(!this.ignoreErrors&&!this._all&&e==="error")throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");return!!this._all},R.prototype.emitAsync=function(){if(!this._events&&!this._all)return!1;this._events||u.call(this);var e=arguments[0],r=this.wildcard,a,f,m,g,w,x;if(e==="newListener"&&!this._newListener&&!this._events.newListener)return Promise.resolve([!1]);if(r&&(a=e,e!=="newListener"&&e!=="removeListener"&&typeof e=="object")){if(g=e.length,d){for(w=0;w<g;w++)if(typeof e[w]=="symbol"){f=!0;break}}f||(e=e.join(this.delimiter))}var _=[],b=arguments.length,F;if(this._all)for(w=0,g=this._all.length;w<g;w++)switch(this.event=e,b){case 1:_.push(this._all[w].call(this,e));break;case 2:_.push(this._all[w].call(this,e,arguments[1]));break;case 3:_.push(this._all[w].call(this,e,arguments[1],arguments[2]));break;default:_.push(this._all[w].apply(this,arguments))}if(r?(F=[],z.call(this,F,a,this.listenerTree,0)):F=this._events[e],typeof F=="function")switch(this.event=e,b){case 1:_.push(F.call(this));break;case 2:_.push(F.call(this,arguments[1]));break;case 3:_.push(F.call(this,arguments[1],arguments[2]));break;default:for(m=new Array(b-1),x=1;x<b;x++)m[x-1]=arguments[x];_.push(F.apply(this,m))}else if(F&&F.length){if(F=F.slice(),b>3)for(m=new Array(b-1),x=1;x<b;x++)m[x-1]=arguments[x];for(w=0,g=F.length;w<g;w++)switch(this.event=e,b){case 1:_.push(F[w].call(this));break;case 2:_.push(F[w].call(this,arguments[1]));break;case 3:_.push(F[w].call(this,arguments[1],arguments[2]));break;default:_.push(F[w].apply(this,m))}}else if(!this.ignoreErrors&&!this._all&&e==="error")return arguments[1]instanceof Error?Promise.reject(arguments[1]):Promise.reject("Uncaught, unspecified 'error' event.");return Promise.all(_)},R.prototype.on=function(e,r,a){return this._on(e,r,!1,a)},R.prototype.prependListener=function(e,r,a){return this._on(e,r,!0,a)},R.prototype.onAny=function(e){return this._onAny(e,!1)},R.prototype.prependAny=function(e){return this._onAny(e,!0)},R.prototype.addListener=R.prototype.on,R.prototype._onAny=function(e,r){if(typeof e!="function")throw new Error("onAny only accepts instances of Function");return this._all||(this._all=[]),r?this._all.unshift(e):this._all.push(e),this},R.prototype._on=function(e,r,a,f){if(typeof e=="function")return this._onAny(e,r),this;if(typeof r!="function")throw new Error("on only accepts instances of Function");this._events||u.call(this);var m=this,g;return f!==h&&(g=q.call(this,e,r,f),r=g[0],m=g[1]),this._newListener&&this.emit("newListener",e,r),this.wildcard?(H.call(this,e,r,a),m):(this._events[e]?(typeof this._events[e]=="function"&&(this._events[e]=[this._events[e]]),a?this._events[e].unshift(r):this._events[e].push(r),!this._events[e].warned&&this._maxListeners>0&&this._events[e].length>this._maxListeners&&(this._events[e].warned=!0,S.call(this,this._events[e].length,e))):this._events[e]=r,m)},R.prototype.off=function(e,r){if(typeof r!="function")throw new Error("removeListener only takes instances of Function");var a,f=[];if(this.wildcard){var m=typeof e=="string"?e.split(this.delimiter):e.slice();if(f=z.call(this,null,m,this.listenerTree,0),!f)return this}else{if(!this._events[e])return this;a=this._events[e],f.push({_listeners:a})}for(var g=0;g<f.length;g++){var w=f[g];if(a=w._listeners,o(a)){for(var x=-1,_=0,b=a.length;_<b;_++)if(a[_]===r||a[_].listener&&a[_].listener===r||a[_]._origin&&a[_]._origin===r){x=_;break}if(x<0)continue;return this.wildcard?w._listeners.splice(x,1):this._events[e].splice(x,1),a.length===0&&(this.wildcard?delete w._listeners:delete this._events[e]),this._removeListener&&this.emit("removeListener",e,r),this}else(a===r||a.listener&&a.listener===r||a._origin&&a._origin===r)&&(this.wildcard?delete w._listeners:delete this._events[e],this._removeListener&&this.emit("removeListener",e,r))}return this.listenerTree&&C(this.listenerTree),this},R.prototype.offAny=function(e){var r=0,a=0,f;if(e&&this._all&&this._all.length>0){for(f=this._all,r=0,a=f.length;r<a;r++)if(e===f[r])return f.splice(r,1),this._removeListener&&this.emit("removeListenerAny",e),this}else{if(f=this._all,this._removeListener)for(r=0,a=f.length;r<a;r++)this.emit("removeListenerAny",f[r]);this._all=[]}return this},R.prototype.removeListener=R.prototype.off,R.prototype.removeAllListeners=function(e){if(e===h)return!this._events||u.call(this),this;if(this.wildcard){var r=z.call(this,null,e,this.listenerTree,0),a,f;if(!r)return this;for(f=0;f<r.length;f++)a=r[f],a._listeners=null;this.listenerTree&&C(this.listenerTree)}else this._events&&(this._events[e]=null);return this},R.prototype.listeners=function(e){var r=this._events,a,f,m,g,w;if(e===h){if(this.wildcard)throw Error("event name required for wildcard emitter");if(!r)return[];for(a=s(r),g=a.length,m=[];g-- >0;)f=r[a[g]],typeof f=="function"?m.push(f):m.push.apply(m,f);return m}else{if(this.wildcard){if(w=this.listenerTree,!w)return[];var x=[],_=typeof e=="string"?e.split(this.delimiter):e.slice();return z.call(this,x,_,w,0),x}return r?(f=r[e],f?typeof f=="function"?[f]:f:[]):[]}},R.prototype.eventNames=function(e){var r=this._events;return this.wildcard?k.call(this,this.listenerTree,[],null,e):r?s(r):[]},R.prototype.listenerCount=function(e){return this.listeners(e).length},R.prototype.hasListeners=function(e){if(this.wildcard){var r=[],a=typeof e=="string"?e.split(this.delimiter):e.slice();return z.call(this,r,a,this.listenerTree,0),r.length>0}var f=this._events,m=this._all;return!!(m&&m.length||f&&(e===h?s(f).length:f[e]))},R.prototype.listenersAny=function(){return this._all?this._all:[]},R.prototype.waitFor=function(e,r){var a=this,f=typeof r;return f==="number"?r={timeout:r}:f==="function"&&(r={filter:r}),r=A(r,{timeout:0,filter:h,handleError:!1,Promise,overload:!1},{filter:G,Promise:U}),Q(r.Promise,function(m,g,w){function x(){var _=r.filter;if(!(_&&!_.apply(a,arguments)))if(a.off(e,x),r.handleError){var b=arguments[0];b?g(b):m(O.apply(null,arguments).slice(1))}else m(O.apply(null,arguments))}w(function(){a.off(e,x)}),a._on(e,x,!1)},{timeout:r.timeout,overload:r.overload})};function P(e,r,a){a=A(a,{Promise,timeout:0,overload:!1},{Promise:U});var f=a.Promise;return Q(f,function(m,g,w){var x;if(typeof e.addEventListener=="function"){x=function(){m(O.apply(null,arguments))},w(function(){e.removeEventListener(r,x)}),e.addEventListener(r,x,{once:!0});return}var _=function(){b&&e.removeListener("error",b),m(O.apply(null,arguments))},b;r!=="error"&&(b=function(F){e.removeListener(r,_),g(F)},e.once("error",b)),w(function(){b&&e.removeListener("error",b),e.removeListener(r,_)}),e.once(r,_)},{timeout:a.timeout,overload:a.overload})}var j=R.prototype;Object.defineProperties(R,{defaultMaxListeners:{get:function(){return j._maxListeners},set:function(e){if(typeof e!="number"||e<0||Number.isNaN(e))throw TypeError("n must be a non-negative number");j._maxListeners=e},enumerable:!0},once:{value:P,writable:!0,configurable:!0}}),Object.defineProperties(j,{_maxListeners:{value:v,writable:!0,configurable:!0},_observers:{value:null,writable:!0,configurable:!0}}),y.exports=R})()}(Ae)),Ae.exports}var Me,Tr;function fe(){if(Tr)return Me;Tr=1;var y=tt();se();var n=$().EventEmitter2;function h(i){i=i||{},this.ros=i.ros,this.name=i.name,this.serviceType=i.serviceType,this.isAdvertised=!1,this._serviceCallback=null}return h.prototype.__proto__=n.prototype,h.prototype.callService=function(i,o,v){if(!this.isAdvertised){var T="call_service:"+this.name+":"+ ++this.ros.idCounter;(o||v)&&this.ros.once(T,function(p){p.result!==void 0&&p.result===!1?typeof v=="function"&&v(p.values):typeof o=="function"&&o(new y(p.values))});var d={op:"call_service",id:T,service:this.name,type:this.serviceType,args:i};this.ros.callOnConnection(d)}},h.prototype.advertise=function(i){this.isAdvertised||typeof i!="function"||(this._serviceCallback=i,this.ros.on(this.name,this._serviceResponse.bind(this)),this.ros.callOnConnection({op:"advertise_service",type:this.serviceType,service:this.name}),this.isAdvertised=!0)},h.prototype.unadvertise=function(){this.isAdvertised&&(this.ros.callOnConnection({op:"unadvertise_service",service:this.name}),this.isAdvertised=!1)},h.prototype._serviceResponse=function(i){var o={},v=this._serviceCallback(i.args,o),T={op:"service_response",service:this.name,values:new y(o),result:v};i.id&&(T.id=i.id),this.ros.callOnConnection(T)},Me=h,Me}var Ue,Sr;function nr(){if(Sr)return Ue;Sr=1;var y=rt(),n=yt(),h=Tt(),i=fe(),o=se(),v=K(),T=$().EventEmitter2;function d(p){p=p||{};var l=this;this.socket=null,this.idCounter=0,this.isConnected=!1,this.transportLibrary=p.transportLibrary||"websocket",this.transportOptions=p.transportOptions||{},this._sendFunc=function(t){l.sendEncodedMessage(t)},typeof p.groovyCompatibility>"u"?this.groovyCompatibility=!0:this.groovyCompatibility=p.groovyCompatibility,this.setMaxListeners(0),p.url&&this.connect(p.url)}return d.prototype.__proto__=T.prototype,d.prototype.connect=function(p){if(this.transportLibrary==="socket.io")this.socket=v(io(p,{"force new connection":!0}),h(this)),this.socket.on("connect",this.socket.onopen),this.socket.on("data",this.socket.onmessage),this.socket.on("close",this.socket.onclose),this.socket.on("error",this.socket.onerror);else if(this.transportLibrary.constructor.name==="RTCPeerConnection")this.socket=v(this.transportLibrary.createDataChannel(p,this.transportOptions),h(this));else if(this.transportLibrary==="websocket"){if(!this.socket||this.socket.readyState===y.CLOSED){var l=new y(p);l.binaryType="arraybuffer",this.socket=v(l,h(this))}}else if(this.transportLibrary==="workersocket")this.socket=v(new n(p),h(this));else throw"Unknown transportLibrary: "+this.transportLibrary.toString()},d.prototype.close=function(){this.socket&&this.socket.close()},d.prototype.authenticate=function(p,l,t,s,u,c,S){var O={op:"auth",mac:p,client:l,dest:t,rand:s,t:u,level:c,end:S};this.callOnConnection(O)},d.prototype.sendEncodedMessage=function(p){var l=null,t=this;this.transportLibrary==="socket.io"?l=function(s){t.socket.emit("operation",s)}:l=function(s){t.socket.send(s)},this.isConnected?l(p):t.once("connection",function(){l(p)})},d.prototype.callOnConnection=function(p){this.transportOptions.encoder?this.transportOptions.encoder(p,this._sendFunc):this._sendFunc(JSON.stringify(p))},d.prototype.setStatusLevel=function(p,l){var t={op:"set_level",level:p,id:l};this.callOnConnection(t)},d.prototype.getActionServers=function(p,l){var t=new i({ros:this,name:"/rosapi/action_servers",serviceType:"rosapi/GetActionServers"}),s=new o({});typeof l=="function"?t.callService(s,function(u){p(u.action_servers)},function(u){l(u)}):t.callService(s,function(u){p(u.action_servers)})},d.prototype.getTopics=function(p,l){var t=new i({ros:this,name:"/rosapi/topics",serviceType:"rosapi/Topics"}),s=new o;typeof l=="function"?t.callService(s,function(u){p(u)},function(u){l(u)}):t.callService(s,function(u){p(u)})},d.prototype.getTopicsForType=function(p,l,t){var s=new i({ros:this,name:"/rosapi/topics_for_type",serviceType:"rosapi/TopicsForType"}),u=new o({type:p});typeof t=="function"?s.callService(u,function(c){l(c.topics)},function(c){t(c)}):s.callService(u,function(c){l(c.topics)})},d.prototype.getServices=function(p,l){var t=new i({ros:this,name:"/rosapi/services",serviceType:"rosapi/Services"}),s=new o;typeof l=="function"?t.callService(s,function(u){p(u.services)},function(u){l(u)}):t.callService(s,function(u){p(u.services)})},d.prototype.getServicesForType=function(p,l,t){var s=new i({ros:this,name:"/rosapi/services_for_type",serviceType:"rosapi/ServicesForType"}),u=new o({type:p});typeof t=="function"?s.callService(u,function(c){l(c.services)},function(c){t(c)}):s.callService(u,function(c){l(c.services)})},d.prototype.getServiceRequestDetails=function(p,l,t){var s=new i({ros:this,name:"/rosapi/service_request_details",serviceType:"rosapi/ServiceRequestDetails"}),u=new o({type:p});typeof t=="function"?s.callService(u,function(c){l(c)},function(c){t(c)}):s.callService(u,function(c){l(c)})},d.prototype.getServiceResponseDetails=function(p,l,t){var s=new i({ros:this,name:"/rosapi/service_response_details",serviceType:"rosapi/ServiceResponseDetails"}),u=new o({type:p});typeof t=="function"?s.callService(u,function(c){l(c)},function(c){t(c)}):s.callService(u,function(c){l(c)})},d.prototype.getNodes=function(p,l){var t=new i({ros:this,name:"/rosapi/nodes",serviceType:"rosapi/Nodes"}),s=new o;typeof l=="function"?t.callService(s,function(u){p(u.nodes)},function(u){l(u)}):t.callService(s,function(u){p(u.nodes)})},d.prototype.getNodeDetails=function(p,l,t){var s=new i({ros:this,name:"/rosapi/node_details",serviceType:"rosapi/NodeDetails"}),u=new o({node:p});typeof t=="function"?s.callService(u,function(c){l(c.subscribing,c.publishing,c.services)},function(c){t(c)}):s.callService(u,function(c){l(c)})},d.prototype.getParams=function(p,l){var t=new i({ros:this,name:"/rosapi/get_param_names",serviceType:"rosapi/GetParamNames"}),s=new o;typeof l=="function"?t.callService(s,function(u){p(u.names)},function(u){l(u)}):t.callService(s,function(u){p(u.names)})},d.prototype.getTopicType=function(p,l,t){var s=new i({ros:this,name:"/rosapi/topic_type",serviceType:"rosapi/TopicType"}),u=new o({topic:p});typeof t=="function"?s.callService(u,function(c){l(c.type)},function(c){t(c)}):s.callService(u,function(c){l(c.type)})},d.prototype.getServiceType=function(p,l,t){var s=new i({ros:this,name:"/rosapi/service_type",serviceType:"rosapi/ServiceType"}),u=new o({service:p});typeof t=="function"?s.callService(u,function(c){l(c.type)},function(c){t(c)}):s.callService(u,function(c){l(c.type)})},d.prototype.getMessageDetails=function(p,l,t){var s=new i({ros:this,name:"/rosapi/message_details",serviceType:"rosapi/MessageDetails"}),u=new o({type:p});typeof t=="function"?s.callService(u,function(c){l(c.typedefs)},function(c){t(c)}):s.callService(u,function(c){l(c.typedefs)})},d.prototype.decodeTypeDefs=function(p){var l=this,t=function(s,u){for(var c={},S=0;S<s.fieldnames.length;S++){var O=s.fieldarraylen[S],M=s.fieldnames[S],L=s.fieldtypes[S];if(L.indexOf("/")===-1)O===-1?c[M]=L:c[M]=[L];else{for(var A=!1,U=0;U<u.length;U++)if(u[U].type.toString()===L.toString()){A=u[U];break}if(A){var N=t(A,u);O===-1?c[M]=N:c[M]=[N]}else l.emit("error","Cannot find "+L+" in decodeTypeDefs")}}return c};return t(p[0],p)},d.prototype.getTopicsAndRawTypes=function(p,l){var t=new i({ros:this,name:"/rosapi/topics_and_raw_types",serviceType:"rosapi/TopicsAndRawTypes"}),s=new o;typeof l=="function"?t.callService(s,function(u){p(u)},function(u){l(u)}):t.callService(s,function(u){p(u)})},Ue=d,Ue}var Ee,Rr;function re(){if(Rr)return Ee;Rr=1;var y=K();function n(h){y(this,h)}return Ee=n,Ee}var Oe,Lr;function ne(){if(Lr)return Oe;Lr=1;var y=$().EventEmitter2,n=re();function h(i){i=i||{},this.ros=i.ros,this.name=i.name,this.messageType=i.messageType,this.isAdvertised=!1,this.compression=i.compression||"none",this.throttle_rate=i.throttle_rate||0,this.latch=i.latch||!1,this.queue_size=i.queue_size||100,this.queue_length=i.queue_length||0,this.reconnect_on_close=i.reconnect_on_close!==void 0?i.reconnect_on_close:!0,this.compression&&this.compression!=="png"&&this.compression!=="cbor"&&this.compression!=="cbor-raw"&&this.compression!=="none"&&(this.emit("warning",this.compression+" compression is not supported. No compression will be used."),this.compression="none"),this.throttle_rate<0&&(this.emit("warning",this.throttle_rate+" is not allowed. Set to 0"),this.throttle_rate=0);var o=this;this.reconnect_on_close?this.callForSubscribeAndAdvertise=function(v){o.ros.callOnConnection(v),o.waitForReconnect=!1,o.reconnectFunc=function(){o.waitForReconnect||(o.waitForReconnect=!0,o.ros.callOnConnection(v),o.ros.once("connection",function(){o.waitForReconnect=!1}))},o.ros.on("close",o.reconnectFunc)}:this.callForSubscribeAndAdvertise=this.ros.callOnConnection,this._messageCallback=function(v){o.emit("message",new n(v))}}return h.prototype.__proto__=y.prototype,h.prototype.subscribe=function(i){typeof i=="function"&&this.on("message",i),!this.subscribeId&&(this.ros.on(this.name,this._messageCallback),this.subscribeId="subscribe:"+this.name+":"+ ++this.ros.idCounter,this.callForSubscribeAndAdvertise({op:"subscribe",id:this.subscribeId,type:this.messageType,topic:this.name,compression:this.compression,throttle_rate:this.throttle_rate,queue_length:this.queue_length}))},h.prototype.unsubscribe=function(i){i&&(this.off("message",i),this.listeners("message").length)||this.subscribeId&&(this.ros.off(this.name,this._messageCallback),this.reconnect_on_close&&this.ros.off("close",this.reconnectFunc),this.emit("unsubscribe"),this.ros.callOnConnection({op:"unsubscribe",id:this.subscribeId,topic:this.name}),this.subscribeId=null)},h.prototype.advertise=function(){if(!this.isAdvertised&&(this.advertiseId="advertise:"+this.name+":"+ ++this.ros.idCounter,this.callForSubscribeAndAdvertise({op:"advertise",id:this.advertiseId,type:this.messageType,topic:this.name,latch:this.latch,queue_size:this.queue_size}),this.isAdvertised=!0,!this.reconnect_on_close)){var i=this;this.ros.on("close",function(){i.isAdvertised=!1})}},h.prototype.unadvertise=function(){this.isAdvertised&&(this.reconnect_on_close&&this.ros.off("close",this.reconnectFunc),this.emit("unadvertise"),this.ros.callOnConnection({op:"unadvertise",id:this.advertiseId,topic:this.name}),this.isAdvertised=!1)},h.prototype.publish=function(i){this.isAdvertised||this.advertise(),this.ros.idCounter++;var o={op:"publish",id:"publish:"+this.name+":"+this.ros.idCounter,topic:this.name,msg:i,latch:this.latch};this.ros.callOnConnection(o)},Oe=h,Oe}var Fe,kr;function St(){if(kr)return Fe;kr=1;var y=fe(),n=se();function h(i){i=i||{},this.ros=i.ros,this.name=i.name}return h.prototype.get=function(i,o){var v=new y({ros:this.ros,name:"/rosapi/get_param",serviceType:"rosapi/GetParam"}),T=new n({name:this.name});v.callService(T,function(d){var p=JSON.parse(d.value);i(p)},o)},h.prototype.set=function(i,o,v){var T=new y({ros:this.ros,name:"/rosapi/set_param",serviceType:"rosapi/SetParam"}),d=new n({name:this.name,value:JSON.stringify(i)});T.callService(d,o,v)},h.prototype.delete=function(i,o){var v=new y({ros:this.ros,name:"/rosapi/delete_param",serviceType:"rosapi/DeleteParam"}),T=new n({name:this.name});v.callService(T,i,o)},Fe=h,Fe}var Ar;function Rt(){if(Ar)return me.exports;Ar=1;var y=sr(),n=me.exports={Ros:nr(),Topic:ne(),Message:re(),Param:St(),Service:fe(),ServiceRequest:se(),ServiceResponse:tt()};return y(n.Ros,["Param","Service","Topic"],n),me.exports}var qe={exports:{}},Ce,Mr;function it(){if(Mr)return Ce;Mr=1;var y=ne(),n=re(),h=$().EventEmitter2;function i(o){var v=this;o=o||{},this.ros=o.ros,this.serverName=o.serverName,this.actionName=o.actionName,this.timeout=o.timeout,this.omitFeedback=o.omitFeedback,this.omitStatus=o.omitStatus,this.omitResult=o.omitResult,this.goals={};var T=!1;this.feedbackListener=new y({ros:this.ros,name:this.serverName+"/feedback",messageType:this.actionName+"Feedback"}),this.statusListener=new y({ros:this.ros,name:this.serverName+"/status",messageType:"actionlib_msgs/GoalStatusArray"}),this.resultListener=new y({ros:this.ros,name:this.serverName+"/result",messageType:this.actionName+"Result"}),this.goalTopic=new y({ros:this.ros,name:this.serverName+"/goal",messageType:this.actionName+"Goal"}),this.cancelTopic=new y({ros:this.ros,name:this.serverName+"/cancel",messageType:"actionlib_msgs/GoalID"}),this.goalTopic.advertise(),this.cancelTopic.advertise(),this.omitStatus||this.statusListener.subscribe(function(d){T=!0,d.status_list.forEach(function(p){var l=v.goals[p.goal_id.id];l&&l.emit("status",p)})}),this.omitFeedback||this.feedbackListener.subscribe(function(d){var p=v.goals[d.status.goal_id.id];p&&(p.emit("status",d.status),p.emit("feedback",d.feedback))}),this.omitResult||this.resultListener.subscribe(function(d){var p=v.goals[d.status.goal_id.id];p&&(p.emit("status",d.status),p.emit("result",d.result))}),this.timeout&&setTimeout(function(){T||v.emit("timeout")},this.timeout)}return i.prototype.__proto__=h.prototype,i.prototype.cancel=function(){var o=new n;this.cancelTopic.publish(o)},i.prototype.dispose=function(){this.goalTopic.unadvertise(),this.cancelTopic.unadvertise(),this.omitStatus||this.statusListener.unsubscribe(),this.omitFeedback||this.feedbackListener.unsubscribe(),this.omitResult||this.resultListener.unsubscribe()},Ce=i,Ce}var Ne,Ur;function Lt(){if(Ur)return Ne;Ur=1;var y=ne();re();var n=$().EventEmitter2;function h(i){var o=this;i=i||{},this.ros=i.ros,this.serverName=i.serverName,this.actionName=i.actionName;var v=new y({ros:this.ros,name:this.serverName+"/goal",messageType:this.actionName+"Goal"}),T=new y({ros:this.ros,name:this.serverName+"/feedback",messageType:this.actionName+"Feedback"}),d=new y({ros:this.ros,name:this.serverName+"/status",messageType:"actionlib_msgs/GoalStatusArray"}),p=new y({ros:this.ros,name:this.serverName+"/result",messageType:this.actionName+"Result"});v.subscribe(function(l){o.emit("goal",l)}),d.subscribe(function(l){l.status_list.forEach(function(t){o.emit("status",t)})}),T.subscribe(function(l){o.emit("status",l.status),o.emit("feedback",l.feedback)}),p.subscribe(function(l){o.emit("status",l.status),o.emit("result",l.result)})}return h.prototype.__proto__=n.prototype,Ne=h,Ne}var Pe,Er;function st(){if(Er)return Pe;Er=1;var y=re(),n=$().EventEmitter2;function h(i){var o=this;this.actionClient=i.actionClient,this.goalMessage=i.goalMessage,this.isFinished=!1;var v=new Date;this.goalID="goal_"+Math.random()+"_"+v.getTime(),this.goalMessage=new y({goal_id:{stamp:{secs:0,nsecs:0},id:this.goalID},goal:this.goalMessage}),this.on("status",function(T){o.status=T}),this.on("result",function(T){o.isFinished=!0,o.result=T}),this.on("feedback",function(T){o.feedback=T}),this.actionClient.goals[this.goalID]=this}return h.prototype.__proto__=n.prototype,h.prototype.send=function(i){var o=this;o.actionClient.goalTopic.publish(o.goalMessage),i&&setTimeout(function(){o.isFinished||o.emit("timeout")},i)},h.prototype.cancel=function(){var i=new y({id:this.goalID});this.actionClient.cancelTopic.publish(i)},Pe=h,Pe}var je,Or;function kt(){if(Or)return je;Or=1;var y=ne(),n=re(),h=$().EventEmitter2;function i(o){var v=this;o=o||{},this.ros=o.ros,this.serverName=o.serverName,this.actionName=o.actionName,this.feedbackPublisher=new y({ros:this.ros,name:this.serverName+"/feedback",messageType:this.actionName+"Feedback"}),this.feedbackPublisher.advertise();var T=new y({ros:this.ros,name:this.serverName+"/status",messageType:"actionlib_msgs/GoalStatusArray"});T.advertise(),this.resultPublisher=new y({ros:this.ros,name:this.serverName+"/result",messageType:this.actionName+"Result"}),this.resultPublisher.advertise();var d=new y({ros:this.ros,name:this.serverName+"/goal",messageType:this.actionName+"Goal"}),p=new y({ros:this.ros,name:this.serverName+"/cancel",messageType:"actionlib_msgs/GoalID"});this.statusMessage=new n({header:{stamp:{secs:0,nsecs:100},frame_id:""},status_list:[]}),this.currentGoal=null,this.nextGoal=null,d.subscribe(function(t){v.currentGoal?(v.nextGoal=t,v.emit("cancel")):(v.statusMessage.status_list=[{goal_id:t.goal_id,status:1}],v.currentGoal=t,v.emit("goal",t.goal))});var l=function(t,s){return t.secs>s.secs?!1:t.secs<s.secs?!0:t.nsecs<s.nsecs};p.subscribe(function(t){t.stamp.secs===0&&t.stamp.secs===0&&t.id===""?(v.nextGoal=null,v.currentGoal&&v.emit("cancel")):(v.currentGoal&&t.id===v.currentGoal.goal_id.id?v.emit("cancel"):v.nextGoal&&t.id===v.nextGoal.goal_id.id&&(v.nextGoal=null),v.nextGoal&&l(v.nextGoal.goal_id.stamp,t.stamp)&&(v.nextGoal=null),v.currentGoal&&l(v.currentGoal.goal_id.stamp,t.stamp)&&v.emit("cancel"))}),setInterval(function(){var t=new Date,s=Math.floor(t.getTime()/1e3),u=Math.round(1e9*(t.getTime()/1e3-s));v.statusMessage.header.stamp.secs=s,v.statusMessage.header.stamp.nsecs=u,T.publish(v.statusMessage)},500)}return i.prototype.__proto__=h.prototype,i.prototype.setSucceeded=function(o){var v=new n({status:{goal_id:this.currentGoal.goal_id,status:3},result:o});this.resultPublisher.publish(v),this.statusMessage.status_list=[],this.nextGoal?(this.currentGoal=this.nextGoal,this.nextGoal=null,this.emit("goal",this.currentGoal.goal)):this.currentGoal=null},i.prototype.setAborted=function(o){var v=new n({status:{goal_id:this.currentGoal.goal_id,status:4},result:o});this.resultPublisher.publish(v),this.statusMessage.status_list=[],this.nextGoal?(this.currentGoal=this.nextGoal,this.nextGoal=null,this.emit("goal",this.currentGoal.goal)):this.currentGoal=null},i.prototype.sendFeedback=function(o){var v=new n({status:{goal_id:this.currentGoal.goal_id,status:1},feedback:o});this.feedbackPublisher.publish(v)},i.prototype.setPreempted=function(){this.statusMessage.status_list=[];var o=new n({status:{goal_id:this.currentGoal.goal_id,status:2}});this.resultPublisher.publish(o),this.nextGoal?(this.currentGoal=this.nextGoal,this.nextGoal=null,this.emit("goal",this.currentGoal.goal)):this.currentGoal=null},je=i,je}var Fr;function At(){if(Fr)return qe.exports;Fr=1;var y=nr(),n=sr(),h=qe.exports={ActionClient:it(),ActionListener:Lt(),Goal:st(),SimpleActionServer:kt()};return n(y,["ActionClient","SimpleActionServer"],h),qe.exports}var Ge,qr;function ee(){if(qr)return Ge;qr=1;function y(n){n=n||{},this.x=n.x||0,this.y=n.y||0,this.z=n.z||0}return y.prototype.add=function(n){this.x+=n.x,this.y+=n.y,this.z+=n.z},y.prototype.subtract=function(n){this.x-=n.x,this.y-=n.y,this.z-=n.z},y.prototype.multiplyQuaternion=function(n){var h=n.w*this.x+n.y*this.z-n.z*this.y,i=n.w*this.y+n.z*this.x-n.x*this.z,o=n.w*this.z+n.x*this.y-n.y*this.x,v=-n.x*this.x-n.y*this.y-n.z*this.z;this.x=h*n.w+v*-n.x+i*-n.z-o*-n.y,this.y=i*n.w+v*-n.y+o*-n.x-h*-n.z,this.z=o*n.w+v*-n.z+h*-n.y-i*-n.x},y.prototype.clone=function(){return new y(this)},Ge=y,Ge}var De,Cr;function ae(){if(Cr)return De;Cr=1;function y(n){n=n||{},this.x=n.x||0,this.y=n.y||0,this.z=n.z||0,this.w=typeof n.w=="number"?n.w:1}return y.prototype.conjugate=function(){this.x*=-1,this.y*=-1,this.z*=-1},y.prototype.norm=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},y.prototype.normalize=function(){var n=Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w);n===0?(this.x=0,this.y=0,this.z=0,this.w=1):(n=1/n,this.x=this.x*n,this.y=this.y*n,this.z=this.z*n,this.w=this.w*n)},y.prototype.invert=function(){this.conjugate(),this.normalize()},y.prototype.multiply=function(n){var h=this.x*n.w+this.y*n.z-this.z*n.y+this.w*n.x,i=-this.x*n.z+this.y*n.w+this.z*n.x+this.w*n.y,o=this.x*n.y-this.y*n.x+this.z*n.w+this.w*n.z,v=-this.x*n.x-this.y*n.y-this.z*n.z+this.w*n.w;this.x=h,this.y=i,this.z=o,this.w=v},y.prototype.clone=function(){return new y(this)},De=y,De}var Be,Nr;function ar(){if(Nr)return Be;Nr=1;var y=ee(),n=ae();function h(i){i=i||{},this.position=new y(i.position),this.orientation=new n(i.orientation)}return h.prototype.applyTransform=function(i){this.position.multiplyQuaternion(i.rotation),this.position.add(i.translation);var o=i.rotation.clone();o.multiply(this.orientation),this.orientation=o},h.prototype.clone=function(){return new h(this)},h.prototype.multiply=function(i){var o=i.clone();return o.applyTransform({rotation:this.orientation,translation:this.position}),o},h.prototype.getInverse=function(){var i=this.clone();return i.orientation.invert(),i.position.multiplyQuaternion(i.orientation),i.position.x*=-1,i.position.y*=-1,i.position.z*=-1,i},Be=h,Be}var ze,Pr;function nt(){if(Pr)return ze;Pr=1;var y=ee(),n=ae();function h(i){i=i||{},this.translation=new y(i.translation),this.rotation=new n(i.rotation)}return h.prototype.clone=function(){return new h(this)},ze=h,ze}var Ie,jr;function Mt(){return jr||(jr=1,Ie={Pose:ar(),Quaternion:ae(),Transform:nt(),Vector3:ee()}),Ie}var We={exports:{}},Ve,Gr;function Ut(){if(Gr)return Ve;Gr=1;var y=it(),n=st(),h=fe(),i=se(),o=ne(),v=nt();function T(d){d=d||{},this.ros=d.ros,this.fixedFrame=d.fixedFrame||"base_link",this.angularThres=d.angularThres||2,this.transThres=d.transThres||.01,this.rate=d.rate||10,this.updateDelay=d.updateDelay||50;var p=d.topicTimeout||2,l=Math.floor(p),t=Math.floor((p-l)*1e9);this.topicTimeout={secs:l,nsecs:t},this.serverName=d.serverName||"/tf2_web_republisher",this.repubServiceName=d.repubServiceName||"/republish_tfs",this.currentGoal=!1,this.currentTopic=!1,this.frameInfos={},this.republisherUpdateRequested=!1,this._subscribeCB=null,this._isDisposed=!1,this.actionClient=new y({ros:d.ros,serverName:this.serverName,actionName:"tf2_web_republisher/TFSubscriptionAction",omitStatus:!0,omitResult:!0}),this.serviceClient=new h({ros:d.ros,name:this.repubServiceName,serviceType:"tf2_web_republisher/RepublishTFs"})}return T.prototype.processTFArray=function(d){d.transforms.forEach(function(p){var l=p.child_frame_id;l[0]==="/"&&(l=l.substring(1));var t=this.frameInfos[l];t&&(t.transform=new v({translation:p.transform.translation,rotation:p.transform.rotation}),t.cbs.forEach(function(s){s(t.transform)}))},this)},T.prototype.updateGoal=function(){var d={source_frames:Object.keys(this.frameInfos),target_frame:this.fixedFrame,angular_thres:this.angularThres,trans_thres:this.transThres,rate:this.rate};if(this.ros.groovyCompatibility)this.currentGoal&&this.currentGoal.cancel(),this.currentGoal=new n({actionClient:this.actionClient,goalMessage:d}),this.currentGoal.on("feedback",this.processTFArray.bind(this)),this.currentGoal.send();else{d.timeout=this.topicTimeout;var p=new i(d);this.serviceClient.callService(p,this.processResponse.bind(this))}this.republisherUpdateRequested=!1},T.prototype.processResponse=function(d){this._isDisposed||(this.currentTopic&&this.currentTopic.unsubscribe(this._subscribeCB),this.currentTopic=new o({ros:this.ros,name:d.topic_name,messageType:"tf2_web_republisher/TFArray"}),this._subscribeCB=this.processTFArray.bind(this),this.currentTopic.subscribe(this._subscribeCB))},T.prototype.subscribe=function(d,p){d[0]==="/"&&(d=d.substring(1)),this.frameInfos[d]?this.frameInfos[d].transform&&p(this.frameInfos[d].transform):(this.frameInfos[d]={cbs:[]},this.republisherUpdateRequested||(setTimeout(this.updateGoal.bind(this),this.updateDelay),this.republisherUpdateRequested=!0)),this.frameInfos[d].cbs.push(p)},T.prototype.unsubscribe=function(d,p){d[0]==="/"&&(d=d.substring(1));for(var l=this.frameInfos[d],t=l&&l.cbs||[],s=t.length;s--;)t[s]===p&&t.splice(s,1);(!p||t.length===0)&&delete this.frameInfos[d]},T.prototype.dispose=function(){this._isDisposed=!0,this.actionClient.dispose(),this.currentTopic&&this.currentTopic.unsubscribe(this._subscribeCB)},Ve=T,Ve}var Dr;function Et(){if(Dr)return We.exports;Dr=1;var y=nr(),n=sr(),h=We.exports={TFClient:Ut()};return n(y,["TFClient"],h),We.exports}var Je,Br;function oe(){return Br||(Br=1,Je={URDF_SPHERE:0,URDF_BOX:1,URDF_CYLINDER:2,URDF_MESH:3}),Je}var Qe,zr;function at(){if(zr)return Qe;zr=1;var y=ee(),n=oe();function h(i){this.dimension=null,this.type=n.URDF_BOX;var o=i.xml.getAttribute("size").split(" ");this.dimension=new y({x:parseFloat(o[0]),y:parseFloat(o[1]),z:parseFloat(o[2])})}return Qe=h,Qe}var Xe,Ir;function ot(){if(Ir)return Xe;Ir=1;function y(n){var h=n.xml.getAttribute("rgba").split(" ");this.r=parseFloat(h[0]),this.g=parseFloat(h[1]),this.b=parseFloat(h[2]),this.a=parseFloat(h[3])}return Xe=y,Xe}var Ye,Wr;function ut(){if(Wr)return Ye;Wr=1;var y=oe();function n(h){this.type=y.URDF_CYLINDER,this.length=parseFloat(h.xml.getAttribute("length")),this.radius=parseFloat(h.xml.getAttribute("radius"))}return Ye=n,Ye}var He,Vr;function or(){if(Vr)return He;Vr=1;var y=ot();function n(i){this.textureFilename=null,this.color=null,this.name=i.xml.getAttribute("name");var o=i.xml.getElementsByTagName("texture");o.length>0&&(this.textureFilename=o[0].getAttribute("filename"));var v=i.xml.getElementsByTagName("color");v.length>0&&(this.color=new y({xml:v[0]}))}n.prototype.isLink=function(){return this.color===null&&this.textureFilename===null};var h=K();return n.prototype.assign=function(i){return h(this,i)},He=n,He}var Ze,Jr;function ct(){if(Jr)return Ze;Jr=1;var y=ee(),n=oe();function h(i){this.scale=null,this.type=n.URDF_MESH,this.filename=i.xml.getAttribute("filename");var o=i.xml.getAttribute("scale");if(o){var v=o.split(" ");this.scale=new y({x:parseFloat(v[0]),y:parseFloat(v[1]),z:parseFloat(v[2])})}}return Ze=h,Ze}var Ke,Qr;function ft(){if(Qr)return Ke;Qr=1;var y=oe();function n(h){this.type=y.URDF_SPHERE,this.radius=parseFloat(h.xml.getAttribute("radius"))}return Ke=n,Ke}var $e,Xr;function lt(){if(Xr)return $e;Xr=1;var y=ar(),n=ee(),h=ae(),i=ut(),o=at(),v=or(),T=ct(),d=ft();function p(l){var t=l.xml;this.origin=null,this.geometry=null,this.material=null,this.name=l.xml.getAttribute("name");var s=t.getElementsByTagName("origin");if(s.length===0)this.origin=new y;else{var u=s[0].getAttribute("xyz"),c=new n;u&&(u=u.split(" "),c=new n({x:parseFloat(u[0]),y:parseFloat(u[1]),z:parseFloat(u[2])}));var S=s[0].getAttribute("rpy"),O=new h;if(S){S=S.split(" ");var M=parseFloat(S[0]),L=parseFloat(S[1]),A=parseFloat(S[2]),U=M/2,N=L/2,G=A/2,I=Math.sin(U)*Math.cos(N)*Math.cos(G)-Math.cos(U)*Math.sin(N)*Math.sin(G),Q=Math.cos(U)*Math.sin(N)*Math.cos(G)+Math.sin(U)*Math.cos(N)*Math.sin(G),Y=Math.cos(U)*Math.cos(N)*Math.sin(G)-Math.sin(U)*Math.sin(N)*Math.cos(G),z=Math.cos(U)*Math.cos(N)*Math.cos(G)+Math.sin(U)*Math.sin(N)*Math.sin(G);O=new h({x:I,y:Q,z:Y,w:z}),O.normalize()}this.origin=new y({position:c,orientation:O})}var H=t.getElementsByTagName("geometry");if(H.length>0){for(var k=H[0],C=null,E=0;E<k.childNodes.length;E++){var q=k.childNodes[E];if(q.nodeType===1){C=q;break}}var R=C.nodeName;R==="sphere"?this.geometry=new d({xml:C}):R==="box"?this.geometry=new o({xml:C}):R==="cylinder"?this.geometry=new i({xml:C}):R==="mesh"?this.geometry=new T({xml:C}):console.warn("Unknown geometry type "+R)}var P=t.getElementsByTagName("material");P.length>0&&(this.material=new v({xml:P[0]}))}return $e=p,$e}var er,Yr;function ht(){if(Yr)return er;Yr=1;var y=lt();function n(h){this.name=h.xml.getAttribute("name"),this.visuals=[];for(var i=h.xml.getElementsByTagName("visual"),o=0;o<i.length;o++)this.visuals.push(new y({xml:i[o]}))}return er=n,er}var rr,Hr;function Ot(){if(Hr)return rr;Hr=1;var y=ar(),n=ee(),h=ae();function i(o){this.name=o.xml.getAttribute("name"),this.type=o.xml.getAttribute("type");var v=o.xml.getElementsByTagName("parent");v.length>0&&(this.parent=v[0].getAttribute("link"));var T=o.xml.getElementsByTagName("child");T.length>0&&(this.child=T[0].getAttribute("link"));var d=o.xml.getElementsByTagName("limit");d.length>0&&(this.minval=parseFloat(d[0].getAttribute("lower")),this.maxval=parseFloat(d[0].getAttribute("upper")));var p=o.xml.getElementsByTagName("origin");if(p.length===0)this.origin=new y;else{var l=p[0].getAttribute("xyz"),t=new n;l&&(l=l.split(" "),t=new n({x:parseFloat(l[0]),y:parseFloat(l[1]),z:parseFloat(l[2])}));var s=p[0].getAttribute("rpy"),u=new h;if(s){s=s.split(" ");var c=parseFloat(s[0]),S=parseFloat(s[1]),O=parseFloat(s[2]),M=c/2,L=S/2,A=O/2,U=Math.sin(M)*Math.cos(L)*Math.cos(A)-Math.cos(M)*Math.sin(L)*Math.sin(A),N=Math.cos(M)*Math.sin(L)*Math.cos(A)+Math.sin(M)*Math.cos(L)*Math.sin(A),G=Math.cos(M)*Math.cos(L)*Math.sin(A)-Math.sin(M)*Math.sin(L)*Math.cos(A),I=Math.cos(M)*Math.cos(L)*Math.cos(A)+Math.sin(M)*Math.sin(L)*Math.sin(A);u=new h({x:U,y:N,z:G,w:I}),u.normalize()}this.origin=new y({position:t,orientation:u})}}return rr=i,rr}var ie={},Zr;function Ft(){return Zr||(Zr=1,ie.DOMImplementation=window.DOMImplementation,ie.XMLSerializer=window.XMLSerializer,ie.DOMParser=window.DOMParser),ie}var tr,Kr;function qt(){if(Kr)return tr;Kr=1;var y=or(),n=ht(),h=Ot(),i=Ft().DOMParser;function o(v){v=v||{};var T=v.xml,d=v.string;if(this.materials={},this.links={},this.joints={},d){var p=new i;T=p.parseFromString(d,"text/xml")}var l=T.documentElement;this.name=l.getAttribute("name");for(var t=l.childNodes,s=0;s<t.length;s++){var u=t[s];if(u.tagName==="material"){var c=new y({xml:u});this.materials[c.name]!==void 0?this.materials[c.name].isLink()?this.materials[c.name].assign(c):console.warn("Material "+c.name+"is not unique."):this.materials[c.name]=c}else if(u.tagName==="link"){var S=new n({xml:u});if(this.links[S.name]!==void 0)console.warn("Link "+S.name+" is not unique.");else{for(var O=0;O<S.visuals.length;O++){var M=S.visuals[O].material;M!==null&&M.name&&(this.materials[M.name]!==void 0?S.visuals[O].material=this.materials[M.name]:this.materials[M.name]=M)}this.links[S.name]=S}}else if(u.tagName==="joint"){var L=new h({xml:u});this.joints[L.name]=L}}}return tr=o,tr}var ir,$r;function Ct(){return $r||($r=1,ir=K()({UrdfBox:at(),UrdfColor:ot(),UrdfCylinder:ut(),UrdfLink:ht(),UrdfMaterial:or(),UrdfMesh:ct(),UrdfModel:qt(),UrdfSphere:ft(),UrdfVisual:lt()},oe())),ir}var ue,et;function Nt(){if(et)return ue;et=1;var y=ue.ROSLIB||{REVISION:"1.4.1"},n=K();return n(y,Rt()),n(y,At()),n(y,Mt()),n(y,Et()),n(y,Ct()),ue=y,ue}var Pt=Nt();const jt=vt(Pt);export{jt as R,Pt as a,vt as g};
