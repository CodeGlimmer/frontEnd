import{i as f,_ as ae,j as ie,u as se,k as de,c as v,w as n,l as M,r as a,m as re,o as p,d as t,b as S,p as h,g as m,q as O,n as ue,h as K,K as pe,v as L,e as me}from"./index-kmKPHIKf.js";import{u as ve}from"./theme-ofzu94UO.js";import{a as ce,b as fe}from"./useSocket-DSyTKqUj.js";import"./RosLib-C7gnwWt6.js";function ye({changeTheme:A,theme:$,animationDuration:_=400,themeChangeDelay:x=200,overlayOpacity:i=.6}){const s=f(null),b=f(null);return{themeOverlay:s,themeToggleBtn:b,handleThemeChange:g=>{const c=g.clientX,y=g.clientY,k=window.innerWidth,w=window.innerHeight,T=Math.max(Math.hypot(c,y),Math.hypot(c-k,y),Math.hypot(c,y-w),Math.hypot(c-k,y-w)),D=($.value==="light"?"dark":"light")==="dark"?"#121212":"#ffffff";if(s.value){const r=s.value;r.style.backgroundColor=D,r.style.left=`${c}px`,r.style.top=`${y}px`,r.style.transform="scale(0)",r.style.opacity=i,r.style.display="block",r.offsetWidth,r.style.transform=`scale(${T/10})`,setTimeout(()=>{A()},x),setTimeout(()=>{r.style.display="none"},_)}else A()}}}const _e={class:"d-none d-sm-flex"},ge={key:1,class:"d-flex justify-center mb-4"},ke={class:"scrollable-content"},we={__name:"IndexLayout",setup(A){const $=ve(),{theme:_}=ie($),{changeTheme:x}=$,i=f(!0),s=f(!1),b=re(),C=f(!1),g=f(!1),c=se(),y=f("https://randomuser.me/api/portraits/men/9.jpg"),k=f(""),w=f("");i.value=!c.smAndDown.value;const{themeOverlay:T,themeToggleBtn:B,handleThemeChange:D}=ye({changeTheme:x,theme:_}),r=()=>{b.push("/"),C.value=!1,i.value=!1},R=()=>{b.push("/index/setting")},W=o=>{c.mdAndUp.value&&s.value&&!o.target.closest(".v-list-item")&&!o.target.closest(".v-btn")&&(s.value=!1)},E=o=>{o.target.closest(".v-btn")||c.mdAndUp.value&&s.value&&(s.value=!1)};return de(()=>{const o=localStorage.getItem("username");ce.post(`${fe}find/`,{username:o}).then(({data:e})=>{e.image&&(y.value=`data:image/jpeg;base64,${e.image}`),k.value=e.username,w.value=e.email})}),(o,e)=>{const u=a("v-btn"),Y=a("v-spacer"),d=a("v-list-item"),V=a("v-list"),z=a("v-menu"),q=a("v-app-bar"),U=a("v-divider"),I=a("v-icon"),N=a("v-list-subheader"),P=a("v-list-group"),j=a("router-view"),Q=a("v-card-title"),X=a("v-card-subtitle"),G=a("v-col"),F=a("v-row"),J=a("v-container"),Z=a("v-card-actions"),H=a("v-card"),ee=a("v-navigation-drawer"),te=a("v-scroll-x-transition"),ne=a("v-main"),oe=a("v-layout"),le=a("v-app");return p(),v(le,{theme:M(_)},{default:n(()=>[t(oe,{class:"layout-wrapper"},{default:n(()=>[t(q,{class:"elevation-12",app:"",fixed:""},{default:n(()=>[t(u,{icon:"mdi-apps",onClick:e[0]||(e[0]=l=>i.value=!i.value)}),t(Y),S("div",_e,[t(u,{"prepend-icon":"mdi-database-outline",variant:"outlined",class:"me-2",to:"/index/ordermanagement"},{default:n(()=>e[12]||(e[12]=[m("订单管理")])),_:1}),t(u,{"prepend-icon":"mdi-eye-outline",variant:"outlined",class:"me-2",to:"/index/agvmonitoring"},{default:n(()=>e[13]||(e[13]=[m("AGV监控")])),_:1}),t(u,{"prepend-icon":"mdi-invoice-text-clock-outline",variant:"outlined",class:"me-2",to:"/index/schedulingplanning"},{default:n(()=>e[14]||(e[14]=[m("调度规划")])),_:1})]),o.$vuetify.display.smAndDown?(p(),v(z,{key:0,modelValue:g.value,"onUpdate:modelValue":e[1]||(e[1]=l=>g.value=l)},{activator:n(({props:l})=>[t(u,O(l,{icon:"mdi-dots-vertical",class:"me-2"}),null,16)]),default:n(()=>[t(V,null,{default:n(()=>[t(d,{"prepend-icon":"mdi-database-outline",title:"订单管理",to:"/index/ordermanagement"}),t(d,{"prepend-icon":"mdi-eye-outline",title:"AGV监控",to:"/index/agvmonitoring"}),t(d,{"prepend-icon":"mdi-invoice-text-clock-outline",title:"调度规划",to:"/index/schedulingplanning"})]),_:1})]),_:1},8,["modelValue"])):h("",!0),t(u,{"prepend-icon":M(_)==="light"?"mdi-weather-sunny":"mdi-weather-night",text:o.$vuetify.display.smAndUp?"Toggle Theme":"",slim:"",onClick:M(D),ref_key:"themeToggleBtn",ref:B},null,8,["prepend-icon","text","onClick"])]),_:1}),t(ee,{modelValue:i.value,"onUpdate:modelValue":e[11]||(e[11]=l=>i.value=l),rail:s.value&&o.$vuetify.display.mdAndUp,temporary:o.$vuetify.display.smAndDown,permanent:o.$vuetify.display.mdAndUp,class:ue(["elevation-12",{"fixed-drawer":o.$vuetify.display.mdAndUp}]),rounded:"lg",border:"",app:"",onClick:W},{append:n(()=>[!s.value&&o.$vuetify.display.mdAndUp||o.$vuetify.display.smAndDown?(p(),v(H,{key:0,class:"text-primary elevation-4 mx-2 mb-2",density:"comfortable"},{default:n(()=>[t(Q,null,{default:n(()=>e[19]||(e[19]=[m("General options")])),_:1}),t(X,null,{default:n(()=>e[20]||(e[20]=[m("You can set it up, or opt out")])),_:1}),t(Z,null,{default:n(()=>[t(J,null,{default:n(()=>[t(F,null,{default:n(()=>[t(G,{cols:"6"},{default:n(()=>[t(u,{"prepend-icon":"mdi-cog",size:"small",block:o.$vuetify.display.xs,to:"/index/setting"},{default:n(()=>e[21]||(e[21]=[m("setting")])),_:1},8,["block"])]),_:1}),t(G,{cols:"6"},{default:n(()=>[t(u,{"prepend-icon":"mdi-logout",color:"error",size:"small",block:o.$vuetify.display.xs,onClick:r},{default:n(()=>e[22]||(e[22]=[m("sign out")])),_:1},8,["block"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})):s.value&&o.$vuetify.display.mdAndUp?(p(),me("div",ge,[t(z,{modelValue:C.value,"onUpdate:modelValue":e[10]||(e[10]=l=>C.value=l),"close-on-content-click":!1,location:"end",offset:"8"},{activator:n(({props:l})=>[t(u,O(l,{icon:"mdi-dots-horizontal-circle",color:"primary",size:"large",class:"mb-2"}),null,16)]),default:n(()=>[t(H,{"min-width":"200",class:"options-menu"},{default:n(()=>[t(V,null,{default:n(()=>[t(d,{"prepend-icon":"mdi-cog",title:"Settings",onClick:R}),t(U),t(d,{"prepend-icon":"mdi-logout",title:"Sign out",color:"error",onClick:r})]),_:1})]),_:1})]),_:1},8,["modelValue"])])):h("",!0)]),default:n(()=>[t(d,{"prepend-avatar":y.value,title:k.value,subtitle:w.value,class:"mt-2",onClick:E},{append:n(()=>[o.$vuetify.display.mdAndUp?(p(),v(u,{key:0,variant:"text",icon:"mdi-chevron-left",onClick:e[2]||(e[2]=K(l=>s.value=!s.value,["stop"]))})):(p(),v(u,{key:1,variant:"text",icon:"mdi-close",onClick:e[3]||(e[3]=K(l=>i.value=!1,["stop"]))}))]),_:1},8,["prepend-avatar","title","subtitle"]),t(U,{class:"my-2"}),!s.value||o.$vuetify.display.smAndDown?(p(),v(N,{key:0},{default:n(()=>[t(I,null,{default:n(()=>e[15]||(e[15]=[m("mdi-rocket-launch-outline")])),_:1}),e[16]||(e[16]=m(" QUICK ACCESS"))]),_:1})):h("",!0),t(V,{nav:"",density:"compact"},{default:n(()=>[t(d,{"prepend-icon":"mdi-view-dashboard-outline",title:"订单概览",value:"orderOperation",to:"/index/ordermanagement",onClick:e[4]||(e[4]=l=>o.$vuetify.display.smAndDown&&(i.value=!1))}),t(d,{"prepend-icon":"mdi-webcam",title:"AGV实时监控",value:"tasks",to:"/index/agvmonitoring",onClick:e[5]||(e[5]=l=>o.$vuetify.display.smAndDown&&(i.value=!1))}),t(d,{"prepend-icon":"mdi-chart-areaspline",title:"订单预测",value:"path",to:"/index/schedulingplanning",onClick:e[6]||(e[6]=l=>o.$vuetify.display.smAndDown&&(i.value=!1))}),t(P,{value:"shortcuts"},{activator:n(({props:l})=>[t(d,O(l,{"prepend-icon":"mdi-dots-horizontal",title:"更多"}),null,16)]),default:n(()=>[t(d,{"prepend-icon":"mdi-store",title:"购物",value:"shop",to:"/index/shop",onClick:e[7]||(e[7]=l=>o.$vuetify.display.smAndDown&&(i.value=!1))}),t(d,{"prepend-icon":"mdi-note-text-outline",title:"便签",value:"notes",to:"/index/memo",onClick:e[8]||(e[8]=l=>o.$vuetify.display.smAndDown&&(i.value=!1))}),t(d,{"prepend-icon":"mdi-calendar-clock",title:"日程",value:"calendar",to:"/index",onClick:e[9]||(e[9]=l=>o.$vuetify.display.smAndDown&&(i.value=!1))})]),_:1})]),_:1}),t(U,{class:"my-2"}),!s.value||o.$vuetify.display.smAndDown?(p(),v(N,{key:1},{default:n(()=>[t(I,null,{default:n(()=>e[17]||(e[17]=[m("mdi-tools")])),_:1}),e[18]||(e[18]=m(" TOOLS"))]),_:1})):h("",!0),t(j,{name:"sidebar"},{default:n(({Component:l})=>[(p(),v(pe,null,[(p(),v(L(l)))],1024))]),_:1})]),_:1},8,["modelValue","rail","temporary","permanent","class"]),t(ne,{class:"main-content"},{default:n(()=>[S("div",ke,[t(j,{name:"main"},{default:n(({Component:l})=>[t(te,{duration:{enter:1e3,leave:500}},{default:n(()=>[(p(),v(L(l)))]),_:2},1024)]),_:1})])]),_:1}),S("div",{class:"theme-transition-overlay",ref_key:"themeOverlay",ref:T},null,512)]),_:1})]),_:1},8,["theme"])}}},Ae=ae(we,[["__scopeId","data-v-d8c7ecf5"]]);export{Ae as default};
