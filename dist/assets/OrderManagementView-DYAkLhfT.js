import{_ as Ye,s as Ge,i as c,a as C,x as He,k as Je,c as j,w as l,r as d,C as Qe,o as S,b as i,d as t,g as a,p as xe,D as Xe,n as Ze,t as s,e as oe,F as Ve,f as ke,E as he,A as et,l as De,q as Ce}from"./index-BOH9GfG6.js";import{u as tt}from"./order-DAGz9zc-.js";import{O as ae}from"./OderManagement-Dzc_ZI8N.js";import"./useSocket-CGAbKkod.js";import"./RosLib-C7gnwWt6.js";const lt={class:"header-fixed tw:!bg-white/0 tw:!rounded-xl"},rt={class:"scroll-body"},ot={class:"text-body-1"},at={class:"text-body-1"},nt={class:"text-center"},it={class:"d-flex flex-column align-center py-6"},dt={class:"d-flex flex-column align-center py-6"},st={class:"d-flex justify-center align-center pa-4"},ut={class:"product-type-chips"},mt={class:"d-flex align-center"},pt={class:"text-body-2 mb-1"},ct={class:"text-body-2"},vt={class:"d-flex align-center"},ft={class:"ml-2"},_t={class:"d-flex align-center mt-2"},yt={class:"d-flex align-center"},gt={__name:"OrderManagementView",setup(wt){const x=tt(),{show_list:T}=Ge(x),y=c(!1),M=c(""),K=c(1),U=c(10),A=c(null),R=c("default"),E=c(!1),F=c(!1),$=c(!1),L=c(!1),ne=c(!1),ie=c(!1),m=c({order_id:"",product_type:"",order_quantity:"",order_date:new Date().toISOString().substr(0,10),priority:5}),u=c({order_id:"",product_type:"",order_quantity:"",order_date:"",priority:5}),_=c({order_id:"",product_type:"",order_quantity:"",order_date:"",priority:5}),B=c(null),X=c(!1),V=c({show:!1,text:"",color:"success",timeout:3e3,icon:"mdi-check-circle"}),P={required:o=>!!o||"此字段为必填项",positiveNumber:o=>!o||Number(o)>0||"请输入大于0的数值"},de={1:"低",5:"中",10:"高"},Se=[{title:"订单ID",key:"order_id",align:"start",sortable:!0,width:"15%"},{title:"产品类型",key:"product_type",align:"start",sortable:!0,width:"20%"},{title:"订单数量",key:"order_quantity",align:"start",sortable:!0,width:"15%"},{title:"订单日期",key:"order_date",align:"start",sortable:!0,width:"25%"},{title:"优先级",key:"priority",align:"start",sortable:!0,width:"10%"}],Ue=[{title:"默认排序",value:"default"},{title:"订单ID (升序)",value:"id_asc"},{title:"订单ID (降序)",value:"id_desc"},{title:"日期 (最新优先)",value:"date_desc"},{title:"日期 (最旧优先)",value:"date_asc"},{title:"优先级 (高到低)",value:"priority_desc"},{title:"优先级 (低到高)",value:"priority_asc"}],W=C(()=>{const o=new Set(T.value.map(e=>e.product_type));return Array.from(o)}),Oe=C(()=>{const o={};return T.value.forEach(e=>{o[e.product_type]||(o[e.product_type]=0),o[e.product_type]++}),o}),Z=C(()=>{let o=[...T.value];switch(A.value&&(o=o.filter(e=>e.product_type===A.value)),R.value){case"id_asc":o.sort((e,n)=>String(e.order_id).localeCompare(String(n.order_id),void 0,{numeric:!0}));break;case"id_desc":o.sort((e,n)=>String(n.order_id).localeCompare(String(e.order_id),void 0,{numeric:!0}));break;case"date_desc":o.sort((e,n)=>new Date(n.order_date)-new Date(e.order_date));break;case"date_asc":o.sort((e,n)=>new Date(e.order_date)-new Date(n.order_date));break;case"priority_desc":o.sort((e,n)=>n.priority-e.priority);break;case"priority_asc":o.sort((e,n)=>e.priority-n.priority);break}return o}),qe=async()=>{M.value===""?await x.update_data():x.handleSearch(M.value)},Ie=C(()=>{const o=(K.value-1)*U.value,e=o+U.value;return Z.value.slice(o,e)});He([A,R],()=>{K.value=1});function Y(o){return o>=8?"紧急":o>=5?"中等":"普通"}function h(o){return o>=8?"error":o>=5?"warning":"success"}function G(o){return{电子产品:"blue",家具:"brown",食品:"green",服装:"purple",图书:"indigo"}[o]||"primary"}function ze(o){return o.priority>=8?"high-priority-row":""}const Te=C(()=>m.value.priority>=8?"error":m.value.priority>=5?"warning":"success"),se=C(()=>m.value.priority>=8?"error":m.value.priority>=5?"warning":"success"),$e=C(()=>u.value.priority>=8?"error":u.value.priority>=5?"warning":"success"),ue=C(()=>u.value.priority>=8?"error":u.value.priority>=5?"warning":"success");function me(){m.value={order_id:"",product_type:"",order_quantity:"",order_date:new Date().toISOString().substr(0,10),priority:5},E.value=!0}async function Pe(){try{y.value=!0,await ae.add_order({order_id:+m.value.order_id,product_type:m.value.product_type,order_quantity:+m.value.order_quantity,order_date:m.value.order_date,priority:+m.value.priority}),await x.update_data(),E.value=!1,g("订单添加成功！","success","mdi-check-circle")}catch(o){console.error("添加订单失败",o),g("添加订单失败: "+o.message,"error","mdi-alert-circle")}finally{y.value=!1}}function Ne(o){_.value={...o},$.value=!0}function pe(o){const e={...o};if(e.order_date){if(typeof e.order_date!="string")try{const n=new Date(e.order_date);isNaN(n.getTime())||(e.order_date=n.toISOString().split("T")[0])}catch(n){console.error("日期转换失败",n),e.order_date=new Date().toISOString().split("T")[0]}}else e.order_date=new Date().toISOString().split("T")[0];console.log("处理后的日期:",e.order_date),u.value=e,$.value=!1,F.value=!0}async function Me(){try{y.value=!0;const o=u.value.order_id,e=typeof u.value.order_date=="string"?u.value.order_date:new Date(u.value.order_date).toISOString().substr(0,10),n={product_type:u.value.product_type,order_quantity:+u.value.order_quantity,order_date:e,priority:+u.value.priority};await ae.change_order(+o,n),await x.update_data(),F.value=!1,g("订单更新成功！","success","mdi-check-circle")}catch(o){console.error("更新订单失败",o),g("更新订单失败: "+o.message,"error","mdi-alert-circle")}finally{y.value=!1}}function ce(o){B.value=o,$.value=!1,L.value=!0}async function Ae(){try{X.value=!0,await ae.delete_id(B.value.order_id),await x.update_data(),L.value=!1,g("订单删除成功！","info","mdi-delete-circle")}catch(o){console.error("删除订单失败",o),g("删除订单失败: "+o.message,"error","mdi-alert-circle")}finally{X.value=!1}}async function ve(){try{y.value=!0,await x.update_data(),g("数据刷新成功！","info","mdi-refresh")}catch(o){console.error("刷新数据失败",o),g("刷新数据失败: "+o.message,"error","mdi-alert-circle")}finally{y.value=!1}}function Ee(){const o=new Date,e=new Date(o.getFullYear(),o.getMonth(),1);return T.value.filter(n=>new Date(n.order_date)>=e)}function fe(o){return o?new Date(o).toLocaleDateString("zh-CN",{year:"numeric",month:"long",day:"numeric"}):""}function _e(){return new Date().toLocaleString("zh-CN",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"})}function g(o,e,n){V.value={show:!0,text:o,color:e,timeout:3e3,icon:n}}return Je(async()=>{try{y.value=!0,await x.update_data()}catch(o){console.error("初始加载数据失败",o),g("加载数据失败: "+o.message,"error","mdi-alert-circle")}finally{y.value=!1}}),(o,e)=>{const n=d("v-icon"),k=d("v-spacer"),v=d("v-btn"),D=d("v-card-title"),O=d("v-text-field"),p=d("v-col"),ee=d("v-select"),q=d("v-row"),w=d("v-card-text"),b=d("v-card"),N=d("v-chip"),te=d("v-tooltip"),Fe=d("v-progress-circular"),Le=d("v-data-table-server"),Be=d("v-pagination"),I=d("v-list-item-title"),z=d("v-list-item"),le=d("v-list"),ye=d("v-autocomplete"),ge=d("v-menu"),we=d("v-slider"),be=d("v-form"),H=d("v-card-actions"),J=d("v-dialog"),re=d("v-divider"),Q=d("v-list-item-subtitle"),We=d("v-progress-linear"),je=d("v-snackbar"),Ke=d("v-container"),Re=Qe("ripple");return S(),j(Ke,{fluid:"",class:"order-management pa-0"},{default:l(()=>[i("div",lt,[t(b,{class:"mb-4 elevation-2"},{default:l(()=>[t(D,{class:"text-h4 d-flex align-center py-4"},{default:l(()=>[t(n,{icon:"mdi-clipboard-text-outline",size:"x-large",class:"mr-2"}),e[32]||(e[32]=a(" 订单管理系统 ")),t(k),o.$vuetify.display.smAndDown?xe("",!0):(S(),j(v,{key:0,"prepend-icon":"mdi-refresh",color:"primary",onClick:ve,loading:y.value,variant:"tonal"},{default:l(()=>e[31]||(e[31]=[a(" 刷新数据 ")])),_:1},8,["loading"]))]),_:1}),t(w,null,{default:l(()=>[t(q,null,{default:l(()=>[t(p,{cols:"12",sm:"6",md:"4"},{default:l(()=>[t(O,{modelValue:M.value,"onUpdate:modelValue":e[0]||(e[0]=r=>M.value=r),label:"搜索订单","prepend-inner-icon":"mdi-magnify",variant:"outlined",density:"comfortable","hide-details":"",clearable:"",onKeyup:Xe(qe,["enter"])},null,8,["modelValue"])]),_:1}),t(p,{cols:"12",sm:"6",md:"3"},{default:l(()=>[t(ee,{modelValue:A.value,"onUpdate:modelValue":e[1]||(e[1]=r=>A.value=r),items:W.value,label:"产品类型","prepend-inner-icon":"mdi-filter-variant",variant:"outlined",density:"comfortable","hide-details":"",clearable:""},null,8,["modelValue","items"])]),_:1}),t(p,{cols:"12",sm:"6",md:"3"},{default:l(()=>[t(ee,{modelValue:R.value,"onUpdate:modelValue":e[2]||(e[2]=r=>R.value=r),items:Ue,label:"排序方式","prepend-inner-icon":"mdi-sort",variant:"outlined",density:"comfortable","hide-details":""},null,8,["modelValue"])]),_:1}),t(p,{cols:"12",sm:"6",md:"2",class:"d-flex justify-end"},{default:l(()=>[o.$vuetify.display.smAndDown?(S(),j(v,{key:0,"prepend-icon":"mdi-refresh",color:"primary",onClick:ve,loading:y.value,variant:"tonal",class:"tw:relative tw:top-1 border-md border-info pa-lg-5",size:"large"},{default:l(()=>e[33]||(e[33]=[a(" 刷新数据 ")])),_:1},8,["loading"])):xe("",!0),t(k),t(v,{color:"success","prepend-icon":"mdi-plus",onClick:me,class:"mt-1",size:"large"},{default:l(()=>e[34]||(e[34]=[a(" 添加订单 ")])),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),i("div",rt,[t(b,{class:"elevation-2"},{default:l(()=>[t(w,{class:"pa-0"},{default:l(()=>[t(Le,{"items-per-page":U.value,"onUpdate:itemsPerPage":e[3]||(e[3]=r=>U.value=r),headers:Se,"items-length":Z.value.length,items:Ie.value,loading:y.value,search:M.value,class:"elevation-0","item-value":"order_id"},{headers:l(({columns:r})=>[i("tr",null,[(S(!0),oe(Ve,null,ke(r,f=>(S(),oe("th",{key:f.key,style:he({width:f.width,minWidth:f.width,maxWidth:f.maxWidth}),class:"text-primary font-weight-black"},s(f.title),5))),128)),e[35]||(e[35]=i("th",{class:"text-primary font-weight-black text-center"},"操作",-1))])]),item:l(({item:r})=>[i("tr",{class:Ze([ze(r),"tw:hover:shadow-m-elevation-8 tw:hover:scale-[1.01] tw:ease-in tw:duration-300"])},[i("td",null,s(r.order_id),1),i("td",null,[t(N,{color:G(r.product_type),size:"small",variant:"elevated",class:"font-weight-medium"},{default:l(()=>[a(s(r.product_type),1)]),_:2},1032,["color"])]),i("td",ot,s(r.order_quantity),1),i("td",at,s(fe(r.order_date)),1),i("td",null,[t(N,{color:h(r.priority),size:"small",variant:"elevated",class:"font-weight-medium"},{default:l(()=>[a(s(Y(r.priority)),1)]),_:2},1032,["color"])]),i("td",nt,[t(v,{icon:"",variant:"text",color:"info",density:"comfortable",class:"mr-1",onClick:f=>Ne(r)},{default:l(()=>[t(n,null,{default:l(()=>e[36]||(e[36]=[a("mdi-eye")])),_:1}),t(te,{activator:"parent",location:"top"},{default:l(()=>e[37]||(e[37]=[a("查看详情")])),_:1})]),_:2},1032,["onClick"]),t(v,{icon:"",variant:"text",color:"warning",density:"comfortable",class:"mr-1",onClick:f=>pe(r)},{default:l(()=>[t(n,null,{default:l(()=>e[38]||(e[38]=[a("mdi-pencil")])),_:1}),t(te,{activator:"parent",location:"top"},{default:l(()=>e[39]||(e[39]=[a("编辑订单")])),_:1})]),_:2},1032,["onClick"]),t(v,{icon:"",variant:"text",color:"error",density:"comfortable",onClick:f=>ce(r)},{default:l(()=>[t(n,null,{default:l(()=>e[40]||(e[40]=[a("mdi-delete")])),_:1}),t(te,{activator:"parent",location:"top"},{default:l(()=>e[41]||(e[41]=[a("删除订单")])),_:1})]),_:2},1032,["onClick"])])],2)]),"no-data":l(()=>[i("div",it,[t(n,{icon:"mdi-database-off",size:"64",color:"grey",class:"mb-4"}),e[43]||(e[43]=i("span",{class:"text-subtitle-1"},"暂无订单数据",-1)),t(v,{"prepend-icon":"mdi-plus",color:"primary",class:"mt-4",variant:"tonal",onClick:me},{default:l(()=>e[42]||(e[42]=[a(" 添加第一个订单 ")])),_:1})])]),loading:l(()=>[i("div",dt,[t(Fe,{indeterminate:"",color:"primary",size:"64"}),e[44]||(e[44]=i("span",{class:"text-subtitle-1 mt-4"},"正在加载订单数据...",-1))])]),_:1},8,["items-per-page","items-length","items","loading","search"]),i("div",st,[t(Be,{modelValue:K.value,"onUpdate:modelValue":e[4]||(e[4]=r=>K.value=r),length:Math.ceil(Z.value.length/U.value),"total-visible":7,rounded:"circle"},null,8,["modelValue","length"]),t(k),t(ee,{modelValue:U.value,"onUpdate:modelValue":e[5]||(e[5]=r=>U.value=r),items:[5,10,15,20,50],label:"每页显示",variant:"outlined",density:"compact","hide-details":"",class:"items-per-page-select",style:{width:"120px"}},null,8,["modelValue"])])]),_:1})]),_:1}),t(q,{class:"mt-4"},{default:l(()=>[et((S(),j(p,{cols:"12",md:"4",onClick:e[6]||(e[6]=r=>o.$router.push("/index/ordermanagement/charts"))},{default:l(()=>[t(b,{class:"elevation-2"},{default:l(()=>[t(D,{class:"d-flex align-center"},{default:l(()=>[t(n,{icon:"mdi-chart-box",size:"large",color:"primary",class:"mr-2"}),e[45]||(e[45]=a(" 订单统计 "))]),_:1}),t(w,null,{default:l(()=>[t(le,null,{default:l(()=>[t(z,null,{prepend:l(()=>[t(n,{icon:"mdi-clipboard-list",color:"primary"})]),default:l(()=>[t(I,null,{default:l(()=>[a("总订单数: "+s(De(T).length),1)]),_:1})]),_:1}),t(z,null,{prepend:l(()=>[t(n,{icon:"mdi-alert",color:"error"})]),default:l(()=>[t(I,null,{default:l(()=>[a(" 紧急订单: "+s(De(T).filter(r=>r.priority>=8).length),1)]),_:1})]),_:1}),t(z,null,{prepend:l(()=>[t(n,{icon:"mdi-clipboard-check",color:"success"})]),default:l(()=>[t(I,null,{default:l(()=>[a(" 本月订单: "+s(Ee().length),1)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})),[[Re]]),t(p,{cols:"12",md:"8"},{default:l(()=>[t(b,{class:"elevation-2"},{default:l(()=>[t(D,{class:"d-flex align-center"},{default:l(()=>[t(n,{icon:"mdi-chart-pie",size:"large",color:"primary",class:"mr-2"}),e[46]||(e[46]=a(" 产品类型分布 "))]),_:1}),t(w,null,{default:l(()=>[i("div",ut,[(S(!0),oe(Ve,null,ke(Oe.value,(r,f)=>(S(),j(N,{key:f,color:G(f),class:"ma-1",variant:"elevated"},{default:l(()=>[a(s(f)+": "+s(r),1)]),_:2},1032,["color"]))),128))])]),_:1})]),_:1})]),_:1})]),_:1})]),t(J,{modelValue:E.value,"onUpdate:modelValue":e[14]||(e[14]=r=>E.value=r),"max-width":"600px",persistent:""},{default:l(()=>[t(b,null,{default:l(()=>[t(D,{class:"text-h5 d-flex align-center"},{default:l(()=>[t(n,{icon:"mdi-plus-circle",color:"success",class:"mr-2"}),e[47]||(e[47]=a(" 添加新订单 "))]),_:1}),t(w,null,{default:l(()=>[t(be,{ref:"addForm"},{default:l(()=>[t(q,null,{default:l(()=>[t(p,{cols:"12",sm:"6"},{default:l(()=>[t(O,{modelValue:m.value.order_id,"onUpdate:modelValue":e[7]||(e[7]=r=>m.value.order_id=r),label:"订单ID",variant:"outlined",type:"number",rules:[P.required],placeholder:"请输入订单ID","prepend-inner-icon":"mdi-identifier"},null,8,["modelValue","rules"])]),_:1}),t(p,{cols:"12",sm:"6"},{default:l(()=>[t(ye,{modelValue:m.value.product_type,"onUpdate:modelValue":e[8]||(e[8]=r=>m.value.product_type=r),items:W.value.length?W.value:["电子产品","家具","食品","服装","图书"],label:"产品类型",variant:"outlined",rules:[P.required],placeholder:"请选择产品类型","prepend-inner-icon":"mdi-tag"},null,8,["modelValue","items","rules"])]),_:1}),t(p,{cols:"12",sm:"6"},{default:l(()=>[t(O,{modelValue:m.value.order_quantity,"onUpdate:modelValue":e[9]||(e[9]=r=>m.value.order_quantity=r),label:"订单数量",variant:"outlined",type:"number",rules:[P.required,P.positiveNumber],placeholder:"请输入订单数量","prepend-inner-icon":"mdi-numeric"},null,8,["modelValue","rules"])]),_:1}),t(p,{cols:"12",sm:"6"},{default:l(()=>[t(ge,{ref:"orderDateMenu",modelValue:ne.value,"onUpdate:modelValue":e[11]||(e[11]=r=>ne.value=r),"close-on-content-click":!1,transition:"scale-transition","offset-y":""},{activator:l(({props:r})=>[t(O,Ce({modelValue:m.value.order_date,"onUpdate:modelValue":e[10]||(e[10]=f=>m.value.order_date=f),label:"订单日期",variant:"outlined",rules:[P.required],"prepend-inner-icon":"mdi-calendar"},r),null,16,["modelValue","rules"])]),_:1},8,["modelValue"])]),_:1}),t(p,{cols:"12"},{default:l(()=>[t(we,{modelValue:m.value.priority,"onUpdate:modelValue":e[12]||(e[12]=r=>m.value.priority=r),min:1,max:10,step:1,ticks:de,"thumb-label":"always","track-color":Te.value,"thumb-color":se.value,label:"优先级",color:"success","show-ticks":"always"},{prepend:l(()=>[t(n,{color:"success"},{default:l(()=>e[48]||(e[48]=[a("mdi-flag-outline")])),_:1})]),append:l(()=>[t(n,{color:se.value},{default:l(()=>e[49]||(e[49]=[a("mdi-flag")])),_:1},8,["color"])]),"thumb-label":l(({modelValue:r})=>[a(s(Y(r)),1)]),_:1},8,["modelValue","track-color","thumb-color"])]),_:1})]),_:1})]),_:1},512)]),_:1}),t(H,null,{default:l(()=>[t(k),t(v,{color:"error",variant:"text",onClick:e[13]||(e[13]=r=>E.value=!1),"prepend-icon":"mdi-close"},{default:l(()=>e[50]||(e[50]=[a(" 取消 ")])),_:1}),t(v,{color:"success",variant:"elevated",onClick:Pe,"prepend-icon":"mdi-check"},{default:l(()=>e[51]||(e[51]=[a(" 确认添加 ")])),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),t(J,{modelValue:F.value,"onUpdate:modelValue":e[22]||(e[22]=r=>F.value=r),"max-width":"600px",persistent:""},{default:l(()=>[t(b,null,{default:l(()=>[t(D,{class:"text-h5 d-flex align-center"},{default:l(()=>[t(n,{icon:"mdi-pencil-circle",color:"warning",class:"mr-2"}),e[52]||(e[52]=a(" 编辑订单信息 "))]),_:1}),t(w,null,{default:l(()=>[t(be,{ref:"editForm"},{default:l(()=>[t(q,null,{default:l(()=>[t(p,{cols:"12",sm:"6"},{default:l(()=>[t(O,{modelValue:u.value.order_id,"onUpdate:modelValue":e[15]||(e[15]=r=>u.value.order_id=r),label:"订单ID",variant:"outlined",readonly:"","prepend-inner-icon":"mdi-identifier"},null,8,["modelValue"])]),_:1}),t(p,{cols:"12",sm:"6"},{default:l(()=>[t(ye,{modelValue:u.value.product_type,"onUpdate:modelValue":e[16]||(e[16]=r=>u.value.product_type=r),items:W.value.length?W.value:["电子产品","家具","食品","服装","图书"],label:"产品类型",variant:"outlined",placeholder:"请选择产品类型","prepend-inner-icon":"mdi-tag"},null,8,["modelValue","items"])]),_:1}),t(p,{cols:"12",sm:"6"},{default:l(()=>[t(O,{modelValue:u.value.order_quantity,"onUpdate:modelValue":e[17]||(e[17]=r=>u.value.order_quantity=r),label:"订单数量",variant:"outlined",type:"number",rules:[P.positiveNumber],placeholder:"请输入订单数量","prepend-inner-icon":"mdi-numeric"},null,8,["modelValue","rules"])]),_:1}),t(p,{cols:"12",sm:"6"},{default:l(()=>[t(ge,{modelValue:ie.value,"onUpdate:modelValue":e[19]||(e[19]=r=>ie.value=r),"close-on-content-click":!1,transition:"scale-transition"},{activator:l(({props:r})=>[t(O,Ce({modelValue:u.value.order_date,"onUpdate:modelValue":e[18]||(e[18]=f=>u.value.order_date=f),label:"订单日期",variant:"outlined","prepend-inner-icon":"mdi-calendar"},r),null,16,["modelValue"])]),_:1},8,["modelValue"])]),_:1}),t(p,{cols:"12"},{default:l(()=>[t(we,{modelValue:u.value.priority,"onUpdate:modelValue":e[20]||(e[20]=r=>u.value.priority=r),min:1,max:10,step:1,ticks:de,"thumb-label":"always","track-color":$e.value,"thumb-color":ue.value,label:"优先级",color:"warning","show-ticks":"always"},{prepend:l(()=>[t(n,{color:"warning"},{default:l(()=>e[53]||(e[53]=[a("mdi-flag-outline")])),_:1})]),append:l(()=>[t(n,{color:ue.value},{default:l(()=>e[54]||(e[54]=[a("mdi-flag")])),_:1},8,["color"])]),"thumb-label":l(({modelValue:r})=>[a(s(Y(r)),1)]),_:1},8,["modelValue","track-color","thumb-color"])]),_:1})]),_:1})]),_:1},512)]),_:1}),t(H,null,{default:l(()=>[t(k),t(v,{color:"error",variant:"text",onClick:e[21]||(e[21]=r=>F.value=!1),"prepend-icon":"mdi-close"},{default:l(()=>e[55]||(e[55]=[a(" 取消 ")])),_:1}),t(v,{color:"warning",variant:"elevated",onClick:Me,"prepend-icon":"mdi-check"},{default:l(()=>e[56]||(e[56]=[a(" 保存修改 ")])),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),t(J,{modelValue:$.value,"onUpdate:modelValue":e[26]||(e[26]=r=>$.value=r),"max-width":"700px"},{default:l(()=>[t(b,null,{default:l(()=>[t(D,{class:"text-h5 d-flex align-center"},{default:l(()=>[t(n,{icon:"mdi-clipboard-text",color:"info",class:"mr-2"}),e[57]||(e[57]=a(" 订单详情 "))]),_:1}),t(re),t(w,{class:"pt-4"},{default:l(()=>[t(q,null,{default:l(()=>[t(p,{cols:"12",md:"6"},{default:l(()=>[t(le,null,{default:l(()=>[t(z,null,{prepend:l(()=>[t(n,{color:"primary"},{default:l(()=>e[58]||(e[58]=[a("mdi-identifier")])),_:1})]),default:l(()=>[t(I,{class:"font-weight-bold"},{default:l(()=>e[59]||(e[59]=[a("订单ID")])),_:1}),t(Q,null,{default:l(()=>[a(s(_.value.order_id),1)]),_:1})]),_:1}),t(z,null,{prepend:l(()=>[t(n,{color:"primary"},{default:l(()=>e[60]||(e[60]=[a("mdi-tag")])),_:1})]),default:l(()=>[t(I,{class:"font-weight-bold"},{default:l(()=>e[61]||(e[61]=[a("产品类型")])),_:1}),t(Q,null,{default:l(()=>[t(N,{color:G(_.value.product_type),size:"small",variant:"elevated",class:"font-weight-medium"},{default:l(()=>[a(s(_.value.product_type),1)]),_:1},8,["color"])]),_:1})]),_:1})]),_:1})]),_:1}),t(p,{cols:"12",md:"6"},{default:l(()=>[t(le,null,{default:l(()=>[t(z,null,{prepend:l(()=>[t(n,{color:"primary"},{default:l(()=>e[62]||(e[62]=[a("mdi-numeric")])),_:1})]),default:l(()=>[t(I,{class:"font-weight-bold"},{default:l(()=>e[63]||(e[63]=[a("订单数量")])),_:1}),t(Q,null,{default:l(()=>[a(s(_.value.order_quantity),1)]),_:1})]),_:1}),t(z,null,{prepend:l(()=>[t(n,{color:"primary"},{default:l(()=>e[64]||(e[64]=[a("mdi-calendar")])),_:1})]),default:l(()=>[t(I,{class:"font-weight-bold"},{default:l(()=>e[65]||(e[65]=[a("订单日期")])),_:1}),t(Q,null,{default:l(()=>[a(s(fe(_.value.order_date)),1)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),t(q,{class:"mt-2"},{default:l(()=>[t(p,{cols:"12"},{default:l(()=>[i("div",mt,[t(n,{color:"primary",class:"mr-2"},{default:l(()=>e[66]||(e[66]=[a("mdi-flag")])),_:1}),e[67]||(e[67]=i("span",{class:"font-weight-bold"},"优先级:",-1)),t(N,{color:h(_.value.priority),size:"small",variant:"elevated",class:"ml-2 font-weight-medium"},{default:l(()=>[a(s(Y(_.value.priority)),1)]),_:1},8,["color"])]),t(We,{"model-value":_.value.priority*10,color:h(_.value.priority),height:"10",rounded:"",class:"mt-2"},null,8,["model-value","color"])]),_:1})]),_:1}),t(q,{class:"mt-4"},{default:l(()=>[t(p,{cols:"12"},{default:l(()=>[t(b,{variant:"outlined"},{default:l(()=>[t(D,{class:"d-flex align-center text-subtitle-1"},{default:l(()=>[t(n,{icon:"mdi-information-outline",color:"info",class:"mr-2"}),e[68]||(e[68]=a(" 系统信息 "))]),_:1}),t(w,null,{default:l(()=>[i("p",pt,[e[69]||(e[69]=i("span",{class:"font-weight-medium"},"创建时间：",-1)),a(s(_e()),1)]),i("p",ct,[e[70]||(e[70]=i("span",{class:"font-weight-medium"},"最后更新：",-1)),a(s(_e()),1)])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),t(re),t(H,null,{default:l(()=>[t(k),t(v,{color:"info",variant:"text",onClick:e[23]||(e[23]=r=>pe(_.value)),"prepend-icon":"mdi-pencil"},{default:l(()=>e[71]||(e[71]=[a(" 编辑 ")])),_:1}),t(v,{color:"error",variant:"text",onClick:e[24]||(e[24]=r=>ce(_.value)),"prepend-icon":"mdi-delete"},{default:l(()=>e[72]||(e[72]=[a(" 删除 ")])),_:1}),t(v,{color:"primary",variant:"elevated",onClick:e[25]||(e[25]=r=>$.value=!1),"prepend-icon":"mdi-close"},{default:l(()=>e[73]||(e[73]=[a(" 关闭 ")])),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),t(J,{modelValue:L.value,"onUpdate:modelValue":e[28]||(e[28]=r=>L.value=r),"max-width":"500px"},{default:l(()=>[t(b,null,{default:l(()=>[t(D,{class:"text-h5 d-flex align-center"},{default:l(()=>[t(n,{icon:"mdi-alert-circle",color:"error",class:"mr-2"}),e[74]||(e[74]=a(" 确认删除 "))]),_:1}),t(w,null,{default:l(()=>[e[77]||(e[77]=i("p",null,"您确定要删除以下订单吗？此操作无法撤销。",-1)),t(re,{class:"my-3"}),i("div",vt,[t(n,{icon:"mdi-identifier",color:"primary",class:"mr-2"}),e[75]||(e[75]=i("strong",null,"订单ID：",-1)),i("span",ft,s(B.value?.order_id),1)]),i("div",_t,[t(n,{icon:"mdi-tag",color:"primary",class:"mr-2"}),e[76]||(e[76]=i("strong",null,"产品类型：",-1)),t(N,{color:G(B.value?.product_type),size:"small",variant:"elevated",class:"ml-2 font-weight-medium"},{default:l(()=>[a(s(B.value?.product_type),1)]),_:1},8,["color"])])]),_:1}),t(H,null,{default:l(()=>[t(k),t(v,{color:"primary",variant:"text",onClick:e[27]||(e[27]=r=>L.value=!1),"prepend-icon":"mdi-close"},{default:l(()=>e[78]||(e[78]=[a(" 取消 ")])),_:1}),t(v,{color:"error",variant:"elevated",onClick:Ae,"prepend-icon":"mdi-delete",loading:X.value},{default:l(()=>e[79]||(e[79]=[a(" 确认删除 ")])),_:1},8,["loading"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),t(je,{modelValue:V.value.show,"onUpdate:modelValue":e[30]||(e[30]=r=>V.value.show=r),color:V.value.color,timeout:V.value.timeout,location:"top"},{actions:l(()=>[t(v,{variant:"text",onClick:e[29]||(e[29]=r=>V.value.show=!1)},{default:l(()=>e[80]||(e[80]=[a("关闭")])),_:1})]),default:l(()=>[i("div",yt,[t(n,{icon:V.value.icon,class:"mr-2"},null,8,["icon"]),a(" "+s(V.value.text),1)])]),_:1},8,["modelValue","color","timeout"])]),_:1})}}},Ct=Ye(gt,[["__scopeId","data-v-9ed3e711"]]);export{Ct as default};
